/*  v1.8.0  */
var t;const n=document.createElement("template");n.innerHTML="\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css\">\n<style>\n  :host {\n    display: block;\n    font-family: var(--ui-font, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n      \"Helvetica Neue\", \"Source Sans Pro\", sans-serif);\n    line-height: 1.5;\n  }\n  :host([hidden]) {\n    display: none;\n  }\n  :host > div {\n    display: flex;\n    flex-flow: row;\n    width: 100%;\n    height: 100%;\n    margin-left: 0;\n    margin-right: 0;\n    justify-content: center;\n    align-items: center;\n  }\n  :host > div.stack-layout {\n    display: block;\n  }\n  .original-content {\n    display: none;\n  }\n  .source {\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    margin-top: 0;\n    margin-bottom: 0;\n    margin-right: .5em;\n    width: calc(50% - .5em);\n    height: 100%;\n    min-width: 300px;\n    padding: 8px;\n    border-radius: 8px;\n    background: var(--base-00, #35434e);\n  }\n  textarea {\n    display: block;\n    border: var(--ui-border, 1px solid rgba(0,0,0,.25));\n    outline: none;\n    resize: vertical;\n    width: 100%;\n    min-height: 4em;\n    font-family: var(--monospace-font, 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', 'Source Code Pro'),  monospace;\n    font-size: 16px;\n    line-height: 1.2;\n  }\n  #run-button {\n      display: none;\n  }\n  #run-button.visible {\n      display: inline-block;\n  }\n  .source textarea {\n    color: var(--base-05, #c5c8c6);\n    background: var(--base-00, #35434e);\n    border: none;\n    height: 100%;\n  }\n  .result {\n    width: calc(50% - .5em);\n    margin-left: .5em;\n  }\n  .output {\n    border-radius: 8px;\n    padding: 8px;\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n  }\n  .output textarea {\n    width: calc(100% - 16px);\n  }\n  .stack-layout .source, .stack-layout .result {\n    width: auto;\n    margin: 0;\n    background: transparent\n  }\n  .stack-layout .source {\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n    padding: 0;\n  }\n  .stack-layout .result  {\n    margin-top: 2em;\n  }\n  .stack-layout [type=radio]:checked ~ label {\n    color: #666;\n  }\n  .console {\n    max-height: 50vh;\n    padding: 8px;\n    border-radius: 8px;\n    overflow: auto;\n    font-size: 1em;\n    color: var(--base-05, #c5c8c6);\n    background: var(--base-00, #35434e);\n    white-space: pre-wrap;\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n  }\n  .console .sep {\n    color: var(--base-05, #c5c8c6);\n  }\n  .console .index {\n    color: var(--base-05, #c5c8c6);\n    opacity: .3;\n    float: left;\n    width: 0;\n    font-style: italic;\n  }\n  .console .boolean {\n    color: var(--base-0e, #b294bb);\n    font-weight: bold;\n  }\n  .console .empty {\n    color: var(--base-0e, #b294bb);\n    font-style: italic;\n  }\n  .console .null {\n    color: var(--base-0e, #b294bb);\n    font-style: italic;\n  }\n  .console .string {\n    color: var(--base-0a, #f0c674);\n    font-weight: bold;\n  }\n  .console .function {\n    color: var(--base-0b, #b5bd68);\n  }\n  .console .number {\n    color: var(--base-0e, #b294bb);\n  }\n  .console .property {\n    color: var(--base-0b, #b5bd68);\n  }\n  .console .object {\n    color: var(--base-0b, #b5bd68);\n  }\n  .console .error {\n    display: block;\n    width: calc(100% - 10px);\n    padding-right: 4px;\n    padding-top: 8px;\n    padding-bottom:8px;\n    padding-left: 6px;\n    background: rgba(204, 102, 102, .4);\n    color: white;\n    border-left: 4px solid var(--semantic-red, #cc6666);\n  }\n  .console .warning {\n    color: var(--semantic-orange, #f0c674);\n  }\n  .console .group {\n    font-weight: bold;\n  }\n  \n  .tabs {\n    position: relative;   \n    display: flex;\n    flex-flow: row;\n    justify-content: center;\n    height: 100%;\n    clear: both;\n    --tab-indicator-offset: 0;\n  }\n  .stack-layout .tabs {\n    flex-flow: column;\n  }\n  .stack-layout .tab {\n    height: auto;\n    background: transparent;\n  }\n  .stack-layout .tab:first-of-type:after {\n    display: none;\n  }\n  .stack-layout .tab:first-child, .stack-layout .tab:last-child {\n    border: none;\n    border-radius: 0;\n    padding-left: 8px;\n    padding-right: 8px;\n    padding-bottom: .5em;\n    margin-left: -8px;\n    margin-right: -8px;\n    margin-bottom: .5em;\n    margin-top: -8px;\n  }\n  .stack-layout .tab:last-child {\n      margin-bottom: 0;\n      padding-bottom: 0;\n  }\n  .stack-layout .tab:first-child {\n    border-top-left-radius: 36px;\n    border-top-right-radius: 36px\n  }\n  .stack-layout .content {\n    visibility: visible;\n    position: relative;\n    top: auto;\n    left: auto;\n    bottom: auto;\n    padding-left: 1em;\n    background: var(--base-00, #35434e);\n    overflow: hidden;\n  }\n  .stack-layout .tab > label {\n    display: block;\n    position: relative;\n    height: auto;\n    text-align: left;\n    padding-left: 1em;\n    padding-top: 1em;\n    padding-bottom: .5em;\n    color: #666;\n  }\n  .stack-layout .tab > input[type=\"radio\"] {\n    visibility: hidden;\n  }\n  .tab {\n    min-width: 150px;\n    border-color: var(--base-02, #373b41);\n    background: var(--base-01, #282a2e);\n    border-style: solid;\n    border-top-width: 1px;\n    border-bottom-width: 1px;\n    height: 36px;\n    border-left: none;\n    border-right: none;\n    box-sizing: content-box;\n  }\n\n  .tab:first-child {\n      border-top-left-radius: 36px;\n      border-bottom-left-radius: 36px;\n      border-left-width: 1px;\n      border-left-style: solid;\n      border-left-color: var(--base-02,  #373b41);\n  }\n\n  .tab:last-child {\n    border-top-right-radius: 36px;\n    border-bottom-right-radius: 36px;\n    border-right-width: 1px;\n    border-right-style: solid;\n    border-right-color: var(--base-02, #373b41);\n  }\n  .tab:first-of-type:after {\n    content: '';\n    display: block;\n    position: relative;\n    width: 144px;\n    margin: 0;\n    top: 3px;\n    height: 30px;\n    left: calc(3px + var(--tab-indicator-offset));\n    z-index: 0;\n    border-radius: 36px;\n    background: var(--base-00, #35434e);\n    transition-property: left;\n    transition-duration: 200ms;\n    transition-timing-function: ease-in-out;\n  }\n  .tab label {\n    position: absolute;\n    width: 150px;\n    height: 36px;\n    padding-top: 8px;\n    padding-bottom: 6px;\n    font-weight: 700;\n    letter-spacing: 0.5px;\n    font-size: 14px;\n    text-transform: uppercase;\n    text-align: center;\n    color: var(--base-005, #c5c8c6);\n    user-select: none;\n    z-index: 1;\n  }\n  .tab [type=radio] {\n    display: none;   \n  }\n  .content {\n    visibility: hidden;\n    position: absolute;\n    top: 38px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    font-size: 1em;\n  }\n  [type=radio]:hover ~ label {\n    color: #fff;\n  }\n  [type=radio]:checked ~ label {\n    color: #fff;\n    z-index: 2;\n  }\n  [type=radio]:checked ~ label ~ .content {\n    z-index: 1;\n    visibility: visible;\n  }\n  .buttons {\n    display: none;\n    justify-content: space-between;\n    padding-left: 1em;\n    padding-right: 1em;\n    padding-bottom: .5em;\n  }\n  .buttons.visible {\n      display: flex;\n  }\n  .button {\n    display: inline-block;\n    margin-bottom: 0.25em;\n    padding: 0.5em 1em;\n    font-size: 14px;\n    min-height: 30px;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    font-weight: 700;\n    text-align: center;\n    text-decoration: none;\n    border-radius: 4px;\n    cursor: pointer;\n    user-select: none;\n    text-transform: uppercase;\n    outline: none;\n    background: var(--base-01, #282a2e);\n    color: var(--base-05, #c5c8c6);\n    border: 1px solid #111;\n  }\n  .stack-layout .button {\n    color: #333;\n    background: transparent;\n    border: var(--ui-border, 1px solid #ccc);\n  }\n  .button:disabled {\n    opacity: .5;\n  }\n  .button svg {\n    height: 1em;\n    width: 1em;\n    margin-right: .55em;\n    vertical-align: -.12em;\n  }\n  .button:enabled:hover, .button:enabled:active {\n    color: var(--primary-color, #0066ce);\n    border: 1px solid var(--primary-color, #0066ce);\n  }\n  .button:enabled:active {\n    color: #fff;\n    background: var(--primary-color, #0066ce);\n    border: 1px solid var(--primary-color, #0066ce);\n  }\n  .mathfield {\n    display: block;\n    border: var(--ui-border, 1px solid #ccc);\n    border-radius: 8px;\n    padding: .5em;\n    font-size: 2rem;\n    background: var(--ui-background, #fff);\n  }\n  @media (max-width: 777px) { \n    :host > div {\n        flex-flow: column;\n    }\n    .source, .result {\n        width: calc(100% - 1em);\n        margin-left: .5em;\n        margin-right: .5em;\n        margin-top: .5em;\n        margin-bottom: .5em;\n    }\n  }\n\n\n  /* Tomorrow Comment */\n  .hljs-comment,\n  .hljs-title {\n      color: var(--base-04, #b4b7b4);\n      font-style: italic;\n  }\n  \n  /* Tomorrow Red */\n  .hljs-variable,\n  .hljs-attribute,\n  .hljs-tag,\n  .hljs-regexp,\n  .ruby .hljs-constant,\n  .xml .hljs-tag .hljs-title,\n  .xml .hljs-pi,\n  .xml .hljs-doctype,\n  .html .hljs-doctype,\n  .css .hljs-id,\n  .css .hljs-class,\n  .css .hljs-pseudo {\n    color: var(--base-0c, #cc6666);\n  }\n  \n  /* Tomorrow Orange */\n  .hljs-number,\n  .hljs-preprocessor,\n  .hljs-built_in,\n  .hljs-literal,\n  .hljs-params,\n  .hljs-constant {\n    color: var(--base-09, #de935f);\n    font-weight: normal;\n  }\n  \n  /* Tomorrow Yellow */\n  .ruby .hljs-class .hljs-title,\n  .css .hljs-rules .hljs-attribute {\n      color: var(--base-0a, #f0c674);\n  }\n  \n  /* Tomorrow Green */\n  .hljs-string,\n  .hljs-value,\n  .hljs-inheritance,\n  .hljs-header,\n  .ruby .hljs-symbol,\n  .xml .hljs-cdata {\n    color: var(--base-0b, #b5bd68);\n  }\n  \n  /* Tomorrow Aqua */\n  .css .hljs-hexcolor {\n    color: var(--base-08, #8abeb7);\n  }\n  \n  /* Tomorrow Blue */\n  .hljs-function,\n  .python .hljs-decorator,\n  .python .hljs-title,\n  .ruby .hljs-function .hljs-title,\n  .ruby .hljs-title .hljs-keyword,\n  .perl .hljs-sub,\n  .javascript .hljs-title,\n  .coffeescript .hljs-title {\n    color: var(--base-0d, #81a2be);\n    font-weight: bold;\n  }\n  \n  /* Tomorrow Purple */\n  .hljs-keyword,\n  .javascript .hljs-function {\n    color: var(--base-0e, #b294bb);\n    font-weight: bold;\n  }\n  \n  .hljs {\n    display: block;\n    background: var(--base-00, #35434e);\n    color: var(--base-05, #c5c8c6);\n    padding: 0.5em;\n  }\n  \n  .coffeescript .javascript,\n  .javascript .xml,\n  .tex .hljs-formula,\n  .xml .javascript,\n  .xml .vbscript,\n  .xml .css,\n  .xml .hljs-cdata {\n      opacity: 0.5;\n  }\n  \n  // Rouge typographic adjustments.\n  // See https://github.com/rouge-ruby/rouge/wiki/List-of-tokens\n  \n  .highlight .c1,     // Single line comment\n  .highlight .cm      // Multiline comment\n    {\n      font-style: italic;\n  }\n  \n  .highlight .k,       // keywords\n  .highlight .kc,       // keywords constant\n  .highlight .kd,       // keywords declaration\n  .highlight .kn,       // keywords namespace\n  .highlight .kp,       // keywords pseudi\n  .highlight .kr,       // keywords reserved\n  .highlight .kt,       // keywords type\n  .highlight .kv       // keywords variable\n  {\n    font-weight: bold;\n  }\n  \n  .CodeMirror {\n    font-family: var(--monospace-font,'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', 'Source Code Pro', monospace);\n  }\n  .cm-s-tomorrow-night.CodeMirror { background: var(--base-00, #35434e); color: var(--base-05, #c5c8c6); }\n  .cm-s-tomorrow-night div.CodeMirror-selected { background: var(--base-01, #282a2e); }\n  .cm-s-tomorrow-night .CodeMirror-line::selection, .cm-s-tomorrow-night .CodeMirror-line > span::selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::selection { background: rgba(45, 45, 45, 0.99); }\n  .cm-s-tomorrow-night .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::-moz-selection { background: rgba(45, 45, 45, 0.99); }\n  .cm-s-tomorrow-night .CodeMirror-gutters { background: var(--base-00, #35434e); border-right: 0px; }\n  .cm-s-tomorrow-night .CodeMirror-guttermarker { color: var(--base-0c, #cc6666); }\n  .cm-s-tomorrow-night .CodeMirror-guttermarker-subtle { color: var(--base-03, #969896); }\n  .cm-s-tomorrow-night .CodeMirror-linenumber { color: var(--base-04, #b4b7b4); opacity: .4; }\n  .cm-s-tomorrow-night .CodeMirror-cursor { border-left: 1px solid #81a2be; }\n  \n  .cm-s-tomorrow-night span.cm-comment { color: var(--base-09, #de935f); }\n  .cm-s-tomorrow-night span.cm-atom { color: var(--base-0e, #b294bb); }\n  .cm-s-tomorrow-night span.cm-number { color: var(--base-0e, #b294bb); }\n  \n  .cm-s-tomorrow-night span.cm-property, .cm-s-tomorrow-night span.cm-attribute { color: var(--base-0b, #b5bd68); }\n  .cm-s-tomorrow-night span.cm-keyword { color: var(--base-0c, #cc6666); }\n  .cm-s-tomorrow-night span.cm-string { color: var(--base-0a, #f0c674); }\n  \n  .cm-s-tomorrow-night span.cm-variable { color: var(--base-0b, #b5bd68); }\n  .cm-s-tomorrow-night span.cm-variable-2 { color: var(--base-0d, #81a2be); }\n  .cm-s-tomorrow-night span.cm-def { color: var(--base-09, #de935f); }\n  .cm-s-tomorrow-night span.cm-bracket { color: var(--base-05, #c5c8c6); }\n  .cm-s-tomorrow-night span.cm-tag { color: var(--base-0c, #cc6666); }\n  .cm-s-tomorrow-night span.cm-link { color: var(--base-0e, #b294bb); }\n  .cm-s-tomorrow-night span.cm-error { background: var(--base-0c, #cc6666); color: var(--base-03, #969896); }\n  \n  .cm-s-tomorrow-night .CodeMirror-activeline-background { background: var(--base-02, #373b41); }\n  .cm-s-tomorrow-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }    \n\n</style>\n<slot name=\"style\"></slot><slot name=\"preamble\"></slot>\n";class e extends HTMLElement{constructor(){var t;super(),this.dirty=!1,this.id||(this.id=o()),this.moduleMap=null!==(t=window.moduleMap)&&void 0!==t?t:{},this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(n.content.cloneNode(!0));const e=document.createElement("div");this.containerId=o(),e.id=this.containerId,e.innerHTML='<div class=\'original-content\'><slot name="html"></slot><slot name="css"></slot><slot name="javascript"></slot></div>\n<div class=\'source\'><div class=\'tabs\'></div>\n<div class=\'buttons visible\'>\n<button id=\'reset-button\' class=\'button\' disabled><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="history" class="svg-inline--fa fa-history fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 255.532c.252 136.64-111.182 248.372-247.822 248.468-64.014.045-122.373-24.163-166.394-63.942-5.097-4.606-5.3-12.543-.443-17.4l16.96-16.96c4.529-4.529 11.776-4.659 16.555-.395C158.208 436.843 204.848 456 256 456c110.549 0 200-89.468 200-200 0-110.549-89.468-200-200-200-55.52 0-105.708 22.574-141.923 59.043l49.091 48.413c7.641 7.535 2.305 20.544-8.426 20.544H26.412c-6.627 0-12-5.373-12-12V45.443c0-10.651 12.843-16.023 20.426-8.544l45.097 44.474C124.866 36.067 187.15 8 256 8c136.811 0 247.747 110.781 248 247.532zm-167.058 90.173l14.116-19.409c3.898-5.36 2.713-12.865-2.647-16.763L280 259.778V116c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v168.222l88.179 64.13c5.36 3.897 12.865 2.712 16.763-2.647z"></path></svg>Reset</button>\n<button id=\'run-button\' class=\'button\'><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="play" class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6zM48 453.5v-395c0-4.6 5.1-7.5 9.1-5.2l334.2 197.5c3.9 2.3 3.9 8 0 10.3L57.1 458.7c-4 2.3-9.1-.6-9.1-5.2z"></path></svg>Run</button>\n</div></div>\n<div class=\'result\'><div class=\'output\'></div></div></div>',this.shadowRoot.appendChild(e),this.shadowRoot.getElementById("run-button").addEventListener("click",(t=>{this.runPlayground()})),this.shadowRoot.getElementById("reset-button").addEventListener("click",(t=>{this.resetPlayground()})),this.shadowRoot.querySelector(".original-content").addEventListener("slotchange",(t=>{this.dirty=!0,requestAnimationFrame((()=>this.update()))})),this.resizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>{this.shadowRoot.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.refresh()}))}))}))}static get observedAttributes(){return["active-tab","layout","show-line-numbers","button-bar-visibility","autorun"]}get outputStylesheets(){return this.hasAttribute("output-stylesheets")?this.getAttribute("output-stylesheets").split(" "):[]}set outputStylesheets(t){this.setAttribute("output-stylesheets",t.join(" "))}get autorun(){if(!this.hasAttribute("autorun"))return 1e3;const t=this.getAttribute("autorun");return"never"===t?"never":isFinite(parseFloat(t))?parseFloat(t):1e3}set autorun(t){this.setAttribute("autorun",t.toString());const n=this.shadowRoot.getElementById("run-botton");"never"===t?n.classList.add("visible"):n.classList.remove("visible")}attributeChangedCallback(t,n,e){"active-tab"===t&&n!==e?this.activateTab(e):"layout"===t&&n!==e?(this.shadowRoot.querySelector(":host > div").classList.toggle("tab-layout","stack"!==e),this.shadowRoot.querySelector(":host > div").classList.toggle("stack-layout","stack"===e)):"show-line-numbers"===t&&n!==e&&this.shadowRoot.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.setLineNumbers(this.showLineNumbers)}))}get buttonBarVisibility(){var t;return null!==(t=this.getAttribute("button-bar-visibility"))&&void 0!==t?t:"auto"}set buttonBarVisibility(t){this.setAttribute("button-bar-visibility",t)}get buttonBarVisible(){return this.shadowRoot.querySelector(".buttons").classList.contains("visible")}connectedCallback(){const t=this.shadowRoot.querySelector("slot[name=style]");if(t){const n=t.assignedNodes().map((t=>t.innerHTML)).join(""),e=document.createElement("style");e.textContent=n,this.shadowRoot.appendChild(e)}"auto"!==this.buttonBarVisibility&&"hidden"!==this.buttonBarVisibility||this.shadowRoot.querySelector(".buttons").classList.remove("visible")}update(){if(!this.dirty)return;this.dirty=!1;const t=this.shadowRoot,n=this,e=function(t){const e=t.target;"LABEL"===e.tagName&&n.activateTab(e.parentNode.dataset.name)};t.querySelectorAll(".tab").forEach((t=>{t.removeEventListener("click",e)}));const r=t.querySelectorAll(".original-content slot");let s="";r.forEach((t=>{let n=t.assignedNodes().map((t=>t.innerHTML)).join("");if(n){n=n.replace(/<!-- -->/g,"");const e=o(),r=t.name;s+=`<div class='tab' id="${e}" data-name="${r}">\n        <input type="radio" id="${e}" name="${this.id}">\n        <label for="${e}">${r}</label>\n        <div class="content ${r.toLowerCase()}">\n            <textarea data-language="${r.toLowerCase()}">${n}</textarea> \n        </div>\n    </div>`}})),t.querySelector(".tabs").innerHTML=s;const a=t.querySelectorAll(".tab");a.length<=1?a.forEach((t=>t.querySelector(".tab > label").style.display="none")):t.querySelectorAll(".tab label").forEach((t=>{t.addEventListener("click",e)}));const i=a[0],l=a[a.length-1];if(a.length>1)i.style.marginTop="8px";else{const t=i.querySelector(".content");t.style.borderTopLeftRadius="8px",t.style.borderTopRightRadius="8px"}if(!this.buttonBarVisible){const t=l.querySelector(".content");t.style.borderBottomLeftRadius="8px",t.style.borderBottomRightRadius="8px",l.style.marginBottom="0",l.style.paddingBottom="0"}void 0!==CodeMirror&&(this.resizeObserver.disconnect(),t.querySelectorAll(".tab .content textarea").forEach((t=>{t.value=t.value.replace(/<!--.*-->\n?/g,""),this.resizeObserver.observe(t.parentElement);const n={javascript:"javascript",json:{name:"javascript",json:!0},css:"css",html:{name:"xml",htmlMode:!0}}[t.dataset.language],e=CodeMirror.fromTextArea(t,{lineNumbers:this.showLineNumbers,lineWrapping:!0,mode:null!=n?n:"javascript",theme:"tomorrow-night"});e.setSize("100%","100%"),e.on("change",(()=>this.editorContentChanged()))}))),this.activateTab(this.activeTab||a[0].dataset.name),this.runPlayground(),setTimeout((()=>t.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.refresh()}))),128)}activateTab(t){var n;const e=null!==(n=this.shadowRoot.querySelector(`[data-name=${t}]`))&&void 0!==n?n:this.shadowRoot.querySelectorAll(".tab")[0];e&&(e.querySelector('input[type="radio"]').checked=!0,this.shadowRoot.querySelector(".tabs").style.setProperty("--tab-indicator-offset",e.offsetLeft-this.shadowRoot.querySelector(".tab:first-of-type").offsetLeft+"px"),requestAnimationFrame((()=>{var t,n;return null===(n=null===(t=e.querySelector("textarea + .CodeMirror"))||void 0===t?void 0:t.CodeMirror)||void 0===n?void 0:n.refresh()})))}runPlayground(){var t,n,e,o;const r=this.shadowRoot,s=r.querySelector(".result");s.querySelectorAll(".result > script").forEach((t=>{s.removeChild(t)})),s.querySelectorAll(".result > .console").forEach((t=>{s.removeChild(t)}));let a="";const i=r.querySelector('textarea[data-language="html"] + .CodeMirror');a=i?i.CodeMirror.getValue():null!==(n=null===(t=r.querySelector('textarea[data-language="html"]'))||void 0===t?void 0:t.value)&&void 0!==n?n:"";const l=a.match(/<script.*>.*?<\/script>/g);null==l||l.forEach((t=>{const n=t.match(/<script([^>]*?)>(.*)<\/script>/),e=new RegExp("[\\s\\r\\t\\n]*([a-z0-9\\-_]+)[\\s\\r\\t\\n]*=[\\s\\r\\t\\n]*(['\"])((?:\\\\\\2|(?!\\2).)*)\\2","ig"),o={};let r;for(;r=e.exec(n[1]);)o[r[1]]=r[3];const a=document.createElement("script");Object.keys(o).forEach((t=>a[t]=o[t]));try{a.textContent=this.processLiveCodeJavascript(n[2]),s.appendChild(a)}catch(t){this.pseudoConsole().error(t.message)}}));try{this.outputStylesheets.forEach((t=>{const n=t.trim();n.length>0&&(a=`<link rel="stylesheet" href="${n}"></link>`+a)})),r.querySelector(".output").innerHTML=a}catch(t){this.pseudoConsole().error(t.message)}const c=r.querySelector('textarea[data-language="javascript"] + .CodeMirror');let u="";u=c?c.CodeMirror.getValue():null!==(o=null===(e=r.querySelector('textarea[data-language="javascript"]'))||void 0===e?void 0:e.value)&&void 0!==o?o:"";const d=document.createElement("script");d.type="module";try{d.textContent=this.processLiveCodeJavascript(u),s.appendChild(d)}catch(t){this.pseudoConsole().error(t.message)}const p=window.onerror;window.onerror=(t,n,e,o,r)=>{n===window.location.href&&(0===e?"function"==typeof(null==r?void 0:r.toString)?this.pseudoConsole().error(t+r.toString()):this.pseudoConsole().error(t):this.pseudoConsole().error("Line "+e+": "+t))},setTimeout((()=>{window.onerror=p}),500)}editorContentChanged(){if(this.shadowRoot.querySelector("#reset-button").disabled=!1,"auto"===this.buttonBarVisibility){this.shadowRoot.querySelector(".buttons").classList.add("visible");const t=this.shadowRoot.querySelectorAll(".tab"),n=t[t.length-1],e=n.querySelector(".content");e.style.borderBottomLeftRadius="0",e.style.borderBottomRightRadius="0",n.style.marginBottom="0.5em",n.style.paddingBottom="0.5em","never"===this.autorun?this.shadowRoot.getElementById("run-botton").classList.add("visible"):(this.runTimer&&clearTimeout(this.runTimer),this.runTimer=setTimeout((()=>this.runPlayground()),this.autorun))}}resetPlayground(){this.shadowRoot.querySelectorAll(".original-content slot").forEach((t=>{const n=t.assignedNodes().map((t=>t.innerText)).join("");n&&this.shadowRoot.querySelector(`textarea[data-language="${t.name}"] + .CodeMirror`).CodeMirror.setValue(n)}))}pseudoConsole(){const t=this.shadowRoot;let n=t.querySelector(".result .console");n||(n=document.createElement("pre"),n.classList.add("console"),t.querySelector(".result").appendChild(n));const e=function(t){var e;let o=n.innerHTML.split("\n");o.length>1e3&&(o=o.slice(o.length-1e3+1)),n.innerHTML=o.join("\n")+"&nbsp;&nbsp;".repeat(null!==(e=parseInt(n.dataset["group-level"]))&&void 0!==e?e:0)+t+"\n",n.scrollTop=n.scrollHeight};return{...window.console,assert:function(t,...n){t||e(s(n))},catch:function(t){const n=t.stack.split("at ").pop().match(/:([0-9]+):([0-9]+)$/)||[];e('<span class="error">'+(n[1]?"Line "+(parseInt(n[1])-1)+": ":"")+t.message+"</span>")},clear:function(){n.innerHTML=""},debug:function(...t){e(s(t))},dir:function(...t){e(s(t))},error:function(...t){e('<span class="error">'+s(t)+"</span>")},group:function(...t){var o;arguments.length>0&&e('<span class="group">'+s(t)+"</span>"),n.dataset["group-level"]=Number((null!==(o=parseInt(n.dataset["group-level"]))&&void 0!==o?o:0)+1).toString()},groupCollapsed:function(...t){var o;arguments.length>0&&e('<span class="group">'+s(t)+"</span>"),n.dataset["group-level"]=Number((null!==(o=parseInt(n.dataset["group-level"]))&&void 0!==o?o:0)+1).toString()},groupEnd:function(){var t;n.dataset["group-level"]=Number((null!==(t=parseInt(n.dataset["group-level"]))&&void 0!==t?t:0)-1).toString()},info:function(...t){e(s(t))},log:function(...t){e(s(t))},warn:function(...t){e('<span class="warning">'+s(t)+"</span>")}}}processLiveCodeJavascript(t){if(!t)return"";const n=Date.now().toString(26).slice(-2)+Math.floor(1e5*Math.random()).toString(26);t=(t=(t=(t=t.replace(/([^a-zA-Z0-9_-]?)document\s*\.\s*querySelector\s*\(/g,"$1output"+n+".querySelector(")).replace(/([^a-zA-Z0-9_-]?)document\s*\.\s*querySelectorAll\s*\(/g,"$1output"+n+".querySelectorAll(")).replace(/([^a-zA-Z0-9_-]?)document\s*\.\s*getElementById\s*\(/g,"$1output"+n+".querySelector('#' + ")).replace(/([^a-zA-Z0-9_-])?console\s*\.\s*/g,"$1console"+n+".");const e=[];return t=t.replace(/([^a-zA-Z0-9_-]?import.*)('.*'|".*");/g,((t,n,o)=>(e.push([t,n,o.slice(1,o.length-1)]),""))),e.map((t=>this.moduleMap[t[2]]?t[1]+'"'+this.moduleMap[t[2]]+'";':t[0])).join("\n")+`const playground${n} = document.getElementById("${this.id}").shadowRoot;`+`const console${n} = playground${n}.host.pseudoConsole();`+`const output${n} = playground${n}.querySelector("div.output");try{(async function() {\n`+t+`\n}());} catch(err) { console${n}.catch(err) }`}get activeTab(){var t;return null!==(t=this.getAttribute("active-tab"))&&void 0!==t?t:""}set activeTab(t){t?this.setAttribute("active-tab",t):this.removeAttribute("active-tab")}get showLineNumbers(){return this.hasAttribute("show-line-numbers")}set showLineNumbers(t){t?this.setAttribute("show-line-numbers",""):this.removeAttribute("show-line-numbers")}}function o(){return"i"+(Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36))}function r(t,n,e={}){var o,s;if(null!==(o=e.quote)&&void 0!==o||(e.quote='"'),null!==(s=e.ancestors)&&void 0!==s||(e.ancestors=[]),"boolean"==typeof n)return{text:`<span class="boolean">${a(String(n))}</span>`,itemCount:1,lineCount:1};if("number"==typeof n)return{text:`<span class="number">${a(String(n))}</span>`,itemCount:1,lineCount:1};if("string"==typeof n)return 0===e.quote.length?{text:a(n),itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length}:{text:`<span class="string">${a(e.quote+n+e.quote)}</span>`,itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length};if("function"==typeof n){let t="";return t=n.hasOwnProperty("toString")?a(n.toString()):a(String(n)),{text:`<span class="function">ƒ  ${t}</span>`,itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length}}if(null===n)return{text:`<span class="null">${a(String(n))}</span>`,itemCount:1,lineCount:1};if(t>20)return{text:'<span class="sep">(...)</span>',itemCount:1,lineCount:1};if(Array.isArray(n)){const e=[];for(let o=0;o<n.length;o++)Object.keys(n).includes(Number(o).toString())?e.push(r(t+1,n[o])):e.push({text:'<span class="empty">empty</span>',itemCount:1,lineCount:1});const o=e.reduce(((t,n)=>t+n.itemCount),0),s=e.reduce(((t,n)=>Math.max(t,n.lineCount)),0);return o>5||s>1?{text:"<span class='sep'>[</span>\n"+"  ".repeat(t+1)+e.map(((t,n)=>'<span class="index">'+n+"</span>"+t.text)).join("<span class='sep'>, </span>\n"+"  ".repeat(t+1))+"\n"+"  ".repeat(t)+"<span class='sep'>]</span>",itemCount:o,lineCount:2+e.reduce(((t,n)=>t+n.lineCount),0)}:{text:"<span class='sep'>[</span>"+e.map((t=>t.text)).join("<span class='sep'>, </span>")+"<span class='sep'>]</span>",itemCount:Math.max(1,o),lineCount:1}}if(n instanceof Element){let t=`<${n.localName}`,e=1;if(Array.from(n.attributes).forEach((e=>{t+=" "+e.localName+'="'+n.getAttribute(e.localName)+'"'})),t+=">",n.innerHTML){let o=n.innerHTML.split("\n");o.length>4&&(o=[...o.slice(0,5),"(...)\n"]),t+=o.join("\n"),e+=o.length}return t+=`</${n.localName}>`,{text:`<span class="object">${a(t)}</span>`,itemCount:1,lineCount:e}}if("object"==typeof n){if(e.ancestors.includes(n))return{text:'<span class="sep">{...}</span>',itemCount:1,lineCount:1};e.ancestors.push(n);let o=Object.keys(n);if(Object.getOwnPropertyNames(n).forEach((t=>{o.includes(t)||o.push(t)})),o=o.filter((t=>!t.startsWith("_"))),0===o.length&&"function"==typeof o.toString){const t=n.toString();return"[object Object]"===t?{text:'<span class="sep">{}</span>',itemCount:1,lineCount:1}:{text:t,itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length}}const s=o.sort().map((o=>{if("object"==typeof n[o]&&null!==n[o]){let s=r(t+1,n[o],{ancestors:e.ancestors});return s.itemCount>500&&(s={text:"<span class='sep'>(...)</span>",itemCount:1,lineCount:1}),{text:`<span class="property">${o}</span><span class='sep'>: </span>${s.text}`,itemCount:s.itemCount,lineCount:s.lineCount}}if("function"==typeof n[o])return{text:`<span class="property">${o}</span></span><span class='sep'>: </span><span class='function'>ƒ (...)</span>`,itemCount:1,lineCount:1};const s=r(t+1,n[o],{ancestors:e.ancestors});return{text:`<span class="property">${o}</span></span><span class='sep'>: </span>${s.text}`,itemCount:s.itemCount,lineCount:s.lineCount}})),a=s.reduce(((t,n)=>t+n.itemCount),0),i=s.reduce(((t,n)=>t+n.lineCount),0);return a<5?{text:"<span class='sep'>{</span>"+s.map((t=>t.text)).join("</span><span class='sep'>, </span>")+"<span class='sep'>}</span>",itemCount:a,lineCount:i}:{text:"<span class='sep'>{</span>\n"+"  ".repeat(t+1)+s.map((t=>t.text)).join("</span><span class='sep'>,</span>\n"+"  ".repeat(t+1))+"\n"+"  ".repeat(t)+"<span class='sep'>}</span>",itemCount:a,lineCount:i+2}}return{text:String(n),itemCount:1,lineCount:1}}function s(t){const n=t[0],e=t.slice(1);return"string"==typeof n&&n.includes("%")&&e.length?n.replace(/(%[oscdif]|%(\d*)\.(\d*)[dif])/g,((t,n,o="",s)=>{if("%o"===n)return r(0,e.shift()).text;if("%s"===n)return e.shift();if("%c"===n)return`</span><span style="${e.shift()}">`;const a=e.shift();let i=null;return"f"===n.substr(-1)&&"number"==typeof a?i=isNaN(parseInt(s,10))?a:a.toFixed(s):"string"==typeof a&&(i=parseInt(a,10)),""===o?i:r(0,i).text.padStart(o," ")})):t.map((t=>r(0,t,{quote:""}).text)).join(" ")}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}null!==(t=customElements.get("code-playground"))&&void 0!==t||customElements.define("code-playground",e);export{e as CodePlaygroundElement};
