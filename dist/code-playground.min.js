/*  v1.9.3  */
var e;const t=document.createElement("template");t.innerHTML="\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css\">\n<style>\n\n:host {\n    display: block;\n    font-family: var(--ui-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n      \"Helvetica Neue\", \"Source Sans Pro\"), sans-serif;\n    line-height: 1.5;\n    margin-top: 8px;\n    --_base-00: var(--base-00, #35434e);\n    --_base-01: var(--base-01, #282a2e);\n    --_base-02: var(--base-02, #373b41);\n    --_base-03: var(--base-03, #969896);\n    --_base-04: var(--base-04, #b4b7b4);\n    --_base-05: var(--base-05, #c5c8c6);\n    --_base-06: var(--base-06, #e0e0e0);\n    --_base-07: var(--base-07, #ffffff);\n    --_base-08: var(--base-08, #8abeb7);\n    --_base-09: var(--base-09, #ec9c65);\n    --_base-0a: var(--base-0a, #f0c674);\n    --_base-0b: var(--base-0b, #b5bd68);\n    --_base-0c: var(--base-0c, #cc6666);\n    --_base-0d: var(--base-0d, #81a2be);\n    --_base-0e: var(--base-0e, #b294bb);\n    --_base-0f: var(--base-0f, #a3685a);\n    --_semantic-red: var(--semantic-red, #cc6666);\n    --_semantic-orange: var(--semantic-orange, #f0c674);\n\n  }\n  :host([hidden]) {\n    display: none;\n  }\n\n  slot { display: none; }\n\n  .original-content {\n    display: none;\n  }\n\n  .__code-playground-container {\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    height: 100%;\n    min-width: 300px;\n    border-radius: 8px;\n    width: 100%;\n    margin: 0;\n    background: transparent\n  }\n\n  .__code-playground-editor {\n    border: 1px solid #ccc;\n    background: var(--base-00);\n    color: var(--base-05);\n  }\n\n  .__code-playground-container textarea {\n    display: block;\n\n    color: var(--text-color);\n    background: var(--ui-background);\n\n    min-height: 4em;\n    height: 100%;\n    width: 100%;\n\n    resize: vertical;\n\n    border: var(--ui-border, 1px solid rgba(0,0,0,.25));\n    outline: none;\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 16px;\n    line-height: 1.2;\n  }\n\n\n  .__code-playground-container label {\n    display: block;\n    font-weight: 700;\n    padding-top: 4px;\n    padding-bottom: 4px;\n}\n\n\n  :host div.__code-playground-button-bar:not(.visible) {\n    display: none !important;\n  }\n\n  button svg {\n    height: 1em;\n    width: 1em;\n    margin-right: .55em;\n    vertical-align: -.12em;\n  }\n  \n\n  #run-button:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-result {\n    width: 100%;\n    margin: .5em 0 0 0;\n  }\n\n\n  .__code-playground-output {\n    display:  flex;\n    flex-flow: column;\n  }\n\n  .__code-playground-output:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-output textarea {\n    width: calc(100% - 16px);\n  }\n\n\n  .__code-playground-console {\n    display: block;\n    max-height: 50vh;\n    margin: .5em 0 0 0;\n    overflow: auto;\n\n    padding: 8px 8px 8px 1em;\n    border-radius: 8px;\n\n    color: var(--_base-05);\n    background: var(--_base-00);\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 1em;\n\n    white-space: pre-wrap;\n  }\n\n  .__code-playground-console:not(.visible) {\n    display: none !important;\n  }\n\n\n  .__code-playground-console::selection, \n  .__code-playground-console *::selection {\n    background: var(--selection-background, var(--_base-01));\n    color: var(--selection-color, inherit);\n  }\n\n\n  .__code-playground-console .sep {\n    color: var(--_base-05);\n  }\n  .__code-playground-console .index {\n    color: var(--_base-05);\n    opacity: .3;\n    float: left;\n    width: 0;\n    font-style: italic;\n  }\n  .__code-playground-console .boolean {\n    color: var(--_base-0e);\n    font-weight: bold;\n  }\n  .__code-playground-console .empty {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .null {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .string {\n    color: var(--_base-0a);\n    font-weight: bold;\n  }\n  .__code-playground-console .function {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .number {\n    color: var(--_base-0e);\n  }\n  .__code-playground-console .property {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .object {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .error {\n    display: block;\n    width: calc(100% + 16px);\n    padding-right: 4px;\n    padding-top: 8px;\n    padding-bottom:8px;\n    padding-left: 6px;\n    margin: -8px -20px;\n    background: var(--red-800);\n    color: white;\n    border-left: 8px solid var(--_semantic-red);\n  }\n  .__code-playground-console .warning {\n    color: var(--_semantic-orange);\n  }\n  .__code-playground-console .log {\n    color: var(--blue--200);\n  }\n  .__code-playground-console .group {\n    font-weight: bold;\n  }\n  \n\n\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --selection-background: var(--primary-color);\n    --selection-color: #fff;\n  }\n}\n  \n\n/* Tomorrow Comment */\n.hljs-comment {\n    color: var(--_base-04);\n}\n\n/* Function (JS) and tag (HTML) names */\n.hljs-tag, .hljs-title {\n    color: var(--_base-0a);\n}\n  \n/* Tomorrow Red */\n.hljs-variable,\n.hljs-attribute,\n.hljs-tag,\n.hljs-regexp,\n.ruby .hljs-constant,\n.xml .hljs-tag .hljs-title,\n.xml .hljs-pi,\n.xml .hljs-doctype,\n.html .hljs-doctype,\n.css .hljs-id,\n.css .hljs-class,\n.css .hljs-pseudo {\n  color: var(--_base-0c);\n}\n\n/* Tomorrow Orange */\n.hljs-number,\n.hljs-preprocessor,\n.hljs-built_in,\n.hljs-literal,\n.hljs-params,\n.hljs-constant {\n  color: var(--_base-09);\n  font-weight: normal;\n}\n\n/* Tomorrow Yellow */\n.ruby .hljs-class .hljs-title,\n.css .hljs-rules .hljs-attribute {\n    color: var(--_base-0a);\n}\n\n/* Tomorrow Green */\n.hljs-string,\n.hljs-value,\n.hljs-inheritance,\n.hljs-header,\n.ruby .hljs-symbol,\n.xml .hljs-cdata {\n  color: var(--_base-0b);\n}\n\n/* Tomorrow Aqua */\n.css .hljs-hexcolor {\n  color: var(--_base-08);\n}\n\n/* Tomorrow Blue */\n.hljs-function,\n.python .hljs-decorator,\n.python .hljs-title,\n.ruby .hljs-function .hljs-title,\n.ruby .hljs-title .hljs-keyword,\n.perl .hljs-sub,\n.javascript .hljs-title,\n.coffeescript .hljs-title {\n  color: var(--_base-0d);\n  font-weight: bold;\n}\n\n/* Tomorrow Purple */\n.hljs-keyword,\n.javascript .hljs-function {\n  color: var(--_base-0e);\n  font-weight: bold;\n}\n\n.hljs {\n  display: block;\n  background: var(--_base-00);\n  color: var(--_base-05);\n  padding: 0.5em;\n}\n\n.coffeescript .javascript,\n.javascript .xml,\n.tex .hljs-formula,\n.xml .javascript,\n.xml .vbscript,\n.xml .css,\n.xml .hljs-cdata {\n    opacity: 0.5;\n}\n\n// Rouge typographic adjustments.\n// See https://github.com/rouge-ruby/rouge/wiki/List-of-tokens\n\n.highlight .c1,     // Single line comment\n.highlight .cm      // Multiline comment\n  {\n    font-style: italic;\n}\n\n.highlight .k,       // keywords\n.highlight .kc,       // keywords constant\n.highlight .kd,       // keywords declaration\n.highlight .kn,       // keywords namespace\n.highlight .kp,       // keywords pseudi\n.highlight .kr,       // keywords reserved\n.highlight .kt,       // keywords type\n.highlight .kv       // keywords variable\n{\n  font-weight: bold;\n}\n\n.CodeMirror {\n  font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n  color: inherit;\n}\n.cm-s-tomorrow-night.CodeMirror { background: transparent; }\n.cm-s-tomorrow-night div.CodeMirror-selected { background: var(--selection-background, var(--_base-01)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::selection, .cm-s-tomorrow-night .CodeMirror-line > span::selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::-moz-selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-gutters { background: transparent; border-right: 0px; }\n.cm-s-tomorrow-night .CodeMirror-guttermarker { color: var(--_base-0c); }\n.cm-s-tomorrow-night .CodeMirror-guttermarker-subtle { color: var(--_base-03); }\n.cm-s-tomorrow-night .CodeMirror-linenumber { color: var(--_base-04); opacity: .7; }\n.cm-s-tomorrow-night .CodeMirror-cursor { border-left: 1px solid var(--_base-0d); }\n\n.cm-s-tomorrow-night span.cm-comment { color: var(--_base-04); }\n.cm-s-tomorrow-night span.cm-atom { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-number { color: var(--_base-0e); }\n\n.cm-s-tomorrow-night span.cm-property, .cm-s-tomorrow-night span.cm-attribute { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-keyword { color: var(--_base-0c); }\n.cm-s-tomorrow-night span.cm-string { color: var(--_base-0b); }\n\n.cm-s-tomorrow-night span.cm-variable { color: var(--_base-0b); }\n.cm-s-tomorrow-night span.cm-variable-2 { color: var(--_base-0d); }\n.cm-s-tomorrow-night span.cm-def { color: var(--_base-09); }\n.cm-s-tomorrow-night span.cm-bracket { color: var(--_base-05); }\n.cm-s-tomorrow-night span.cm-tag { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-link { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-error { background: var(--_base-0c); color: var(--_base-03); }\n\n.cm-s-tomorrow-night .CodeMirror-activeline-background { background: var(--_base-02); }\n.cm-s-tomorrow-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }    \n\n\n.CodeMirror .marked div.CodeMirror-linenumber {\n  opacity: 1;\n  color: var(--base-07, #fff);\n}\n\n.CodeMirror .marked pre.CodeMirror-line::before {\n  content: \"\";\n  position: absolute;\n  top: 0; \n  left: 0;\n  width: 100%; \n  height: 100%;  \n  opacity: .5; \n  z-index: -1;\n  background: var(--editor-marked-line, var(--cyan-700, #0c6abe)) !important;\n}\n</style>\n<slot name=\"style\"></slot>\n";class n extends HTMLElement{constructor(){var e;super(),this.dirty=!1,this.edited=!1,this.resetting=!1,this.moduleMap=null!==(e=window.moduleMap)&&void 0!==e?e:{},this.attachShadow({mode:"open",delegatesFocus:!0})}static get observedAttributes(){return Object.values(n.attributes)}attributeChangedCallback(e,t,o){if(t===o)return;const r=n.attributes;e===r.markLine||e===r.markJavascriptLine?l(this.shadowRoot,"javascript",o):e===r.markHtmlLine?l(this.shadowRoot,"html",o):e===r.showLineNumbers&&this.shadowRoot.querySelectorAll("textarea + .CodeMirror").forEach((e=>{var t;return null===(t=null==e?void 0:e.CodeMirror)||void 0===t?void 0:t.setLineNumbers(this.showLineNumbers)}))}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=null,this.shadowRoot.innerHTML="",this.dirty=!0,this.runTimer&&clearTimeout(this.runTimer),this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.edited=!1,this.resetting=!1}connectedCallback(){const e=this.shadowRoot;this.id||(this.id=o()),e.appendChild(t.content.cloneNode(!0));const n=e.querySelector("slot[name=style]");if(n){const t=n.assignedNodes().map((e=>e.innerHTML)).join("").trim();if(t){const n=document.createElement("style");n.innerHTML=t,e.appendChild(n)}}const r=document.createElement("div");this.containerId=o(),r.id=this.containerId,r.innerHTML='<div inert class="original-content" translate="no"><slot name="html"></slot><slot name="javascript"></slot></div>\n\n  <div class="__code-playground-container" translate="no">\n  \n    <div class="editors" part="editors"></div>\n\n    <div class="__code-playground-button-bar" part="button-bar">\n      <button id="reset-button" part="button" disabled><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="history" class="svg-inline--fa fa-history fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 255.532c.252 136.64-111.182 248.372-247.822 248.468-64.014.045-122.373-24.163-166.394-63.942-5.097-4.606-5.3-12.543-.443-17.4l16.96-16.96c4.529-4.529 11.776-4.659 16.555-.395C158.208 436.843 204.848 456 256 456c110.549 0 200-89.468 200-200 0-110.549-89.468-200-200-200-55.52 0-105.708 22.574-141.923 59.043l49.091 48.413c7.641 7.535 2.305 20.544-8.426 20.544H26.412c-6.627 0-12-5.373-12-12V45.443c0-10.651 12.843-16.023 20.426-8.544l45.097 44.474C124.866 36.067 187.15 8 256 8c136.811 0 247.747 110.781 248 247.532zm-167.058 90.173l14.116-19.409c3.898-5.36 2.713-12.865-2.647-16.763L280 259.778V116c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v168.222l88.179 64.13c5.36 3.897 12.865 2.712 16.763-2.647z"></path></svg>Reset</button>\n\n      <button id="run-button" part="button"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="play" class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6zM48 453.5v-395c0-4.6 5.1-7.5 9.1-5.2l334.2 197.5c3.9 2.3 3.9 8 0 10.3L57.1 458.7c-4 2.3-9.1-.6-9.1-5.2z"></path></svg>Run</button>\n    </div>\n\n    <div class="__code-playground-result" translate="no">\n      <div class="__code-playground-output" part="output" translate="no"></div>\n    </div>\n\n  </div>',e.appendChild(r),e.getElementById("run-button").addEventListener("click",(()=>this.run())),e.getElementById("reset-button").addEventListener("click",(()=>this.reset())),e.addEventListener("slotchange",(()=>{this.dirty=!0,requestAnimationFrame((()=>this.update()))})),this.resizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>{e.querySelectorAll("textarea + .CodeMirror").forEach((e=>{var t;return null===(t=null==e?void 0:e.CodeMirror)||void 0===t?void 0:t.refresh()}))}))})),this.updateButtonBar()}get outputStylesheets(){return this.hasAttribute("outputStylesheets")?this.getAttribute("outputStylesheets").split(" "):[]}set outputStylesheets(e){this.setAttribute("outputStylesheets",e.join(" "))}get autorun(){if(!this.hasAttribute("autorun"))return 1e3;const e=this.getAttribute("autorun");return"never"===e?"never":isFinite(parseFloat(e))?parseFloat(e):1e3}set autorun(e){this.setAttribute("autorun",e.toString()),this.updateButtonBar()}get buttonBarVisibility(){var e,t;const n=null!==(t=null!==(e=this.getAttribute("button-bar-visibility"))&&void 0!==e?e:this.getAttribute("buttonBarVisibility"))&&void 0!==t?t:"auto";return"auto"===n?this.edited||"never"===this.autorun?"visible":"hidden":n}set buttonBarVisibility(e){this.setAttribute("buttonBarVisibility",e)}get buttonBarVisible(){var e,t;return null!==(t=null===(e=this.shadowRoot.querySelector(".__code-playground-button-bar"))||void 0===e?void 0:e.classList.contains("visible"))&&void 0!==t&&t}updateButtonBar(){const e=this.buttonBarVisibility,t=this.shadowRoot.querySelector(".__code-playground-button-bar");if(!t)return;const n=this.shadowRoot.getElementById("reset-button");n&&(n.disabled=!this.edited);const o=this.shadowRoot.getElementById("run-button");o&&(o.disabled=!1),null==o||o.classList.toggle("visible","never"===this.autorun),null==t||t.classList.toggle("visible","visible"===e)}update(){var e;if(!this.dirty)return;this.dirty=!1,this.updateButtonBar();const t=this.shadowRoot,n=t.querySelector(".editors");if(!n)return;const o=[...t.querySelectorAll(".original-content slot")];let r="";for(const t of o){let n=t.assignedNodes().map((e=>e.innerHTML)).join("");if(n){n=n.replace(/<!-- -->/g,"");const o=t.name.toLowerCase();r+=`<label part="label">${null!==(e={html:"HTML",javascript:"JavaScript",css:"CSS",json:"JSON"}[o])&&void 0!==e?e:o}</label>\n        <div part="editor" class="__code-playground-editor ${o}">\n            <textarea spellcheck="false" autocorrect="off"  autocapitalize="off" data-language="${o}">${n}</textarea> \n        </div>`}}n.innerHTML=r,void 0!==CodeMirror&&(this.resizeObserver.disconnect(),t.querySelectorAll(".editors textarea").forEach((e=>{var n;this.resizeObserver.observe(e.parentElement);const o=null!==(n={ts:"typescript",typescript:"typescript",js:"javascript",javascript:"javascript",json:{name:"javascript",json:!0},css:"css",html:{name:"xml",htmlMode:!0}}[e.dataset.language])&&void 0!==n?n:"javascript",r=CodeMirror.fromTextArea(e,{lineNumbers:this.showLineNumbers,lineWrapping:!0,mode:o,theme:"tomorrow-night"});var s;r.setValue(i(e.value)),r.setSize("100%","100%"),"javascript"===e.dataset.language&&l(t,"javascript",this.getAttribute("markLine")),l(t,e.dataset.language,this.getAttribute(`mark${s=e.dataset.language,s.charAt(0).toUpperCase()+s.slice(1)}Line`)),r.on("change",(()=>this.editorContentChanged()))}))),"never"!==this.autorun&&this.run(),void 0!==CodeMirror&&setTimeout((()=>t.querySelectorAll("textarea + .CodeMirror").forEach((e=>{var t;return null===(t=null==e?void 0:e.CodeMirror)||void 0===t?void 0:t.refresh()}))),128)}async run(){var e,t,n,o;const r=this.shadowRoot,s=r.querySelector(".__code-playground-result");if(!s)return;s.querySelectorAll(".__code-playground-result > script").forEach((e=>s.removeChild(e))),this.pseudoConsole.clear();let a="";const i=r.querySelector('textarea[data-language="html"] + .CodeMirror');a=i?i.CodeMirror.getValue():null!==(t=null===(e=r.querySelector('textarea[data-language="html"]'))||void 0===e?void 0:e.value)&&void 0!==t?t:"";const l=a.match(/<script.*>.*?<\/script>/g);null==l||l.forEach((e=>{const t=e.match(/<script([^>]*?)>(.*)<\/script>/),n=new RegExp("[\\s\\r\\t\\n]*([a-z0-9\\-_]+)[\\s\\r\\t\\n]*=[\\s\\r\\t\\n]*(['\"])((?:\\\\\\2|(?!\\2).)*)\\2","ig"),o={};let r;for(;r=n.exec(t[1]);)o[r[1]]=r[3];const a=document.createElement("script");Object.keys(o).forEach((e=>a[e]=o[e]));try{a.textContent=this.processLiveCodeJavascript(t[2]),s.appendChild(a)}catch(e){this.pseudoConsole.error(e.message)}}));try{this.outputStylesheets.forEach((e=>{const t=e.trim();t.length>0&&(a=`<link rel="stylesheet" href="${t}"></link>${a}`)}));const e=r.querySelector("div.__code-playground-result > div.__code-playground-output");e&&(a?e.classList.add("visible"):e.classList.remove("visible"),e.innerHTML=a)}catch(e){this.pseudoConsole.error(e.message)}const c=r.querySelector('textarea[data-language="javascript"] + .CodeMirror');let u="";u=c?c.CodeMirror.getValue():null!==(o=null===(n=r.querySelector('textarea[data-language="javascript"]'))||void 0===n?void 0:n.value)&&void 0!==o?o:"";for(const e of a.matchAll(/\<([a-zA-Z0-9]+\-[a-zA-Z0-9]*)[^\>]*\>/g))await customElements.whenDefined(e[1]);const d=document.createElement("script");d.type="module";try{d.textContent=this.processLiveCodeJavascript(u),s.appendChild(d)}catch(e){this.pseudoConsole.error(e.message)}const p=window.onerror;window.onerror=(e,t,n,o,r)=>{t===window.location.href&&(0===n?"function"==typeof(null==r?void 0:r.toString)?this.pseudoConsole.error(e+r.toString()):this.pseudoConsole.error(e):this.pseudoConsole.error("Line "+(n-1)+"\n   "+e))},setTimeout((()=>{window.onerror=p}),500)}editorContentChanged(){this.resetting||(this.edited=!0,this.updateButtonBar(),"never"!==this.autorun&&(this.runTimer&&clearTimeout(this.runTimer),0===this.autorun?this.run():this.runTimer=setTimeout((()=>this.run()),this.autorun)))}reset(){this.resetting=!0,this.runTimer&&clearTimeout(this.runTimer),this.shadowRoot.querySelectorAll(".original-content slot").forEach((e=>{const t=e.assignedNodes().map((e=>e.innerText)).join("");t&&(this.shadowRoot.querySelector(`textarea[data-language="${e.name}"] + .CodeMirror`).CodeMirror.setValue(i(t)),"javascript"===e.name?l(this.shadowRoot,"javascript",this.markLine):l(this.shadowRoot,e.name,this.getAttribute(`mark-${e.name}-line`)))})),this.updateButtonBar(),this.run(),this.edited=!1,this.resetting=!1,this.updateButtonBar()}get outputElement(){return this.shadowRoot.querySelector("div.__code-playground-output")}get pseudoConsole(){const e=this.shadowRoot;let t=e.querySelector(".__code-playground-console");if(!t){const n=e.querySelector(".__code-playground-result");if(!n)return{...window.console,catch:()=>{}};t=document.createElement("pre"),t.classList.add("__code-playground-console"),t.setAttribute("part","console"),n.appendChild(t)}const n=()=>{this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.consoleUpdateTimer=setTimeout((()=>{t.innerHTML=this.consoleContent,this.consoleContent?t.classList.add("visible"):t.classList.remove("visible"),t.scrollTop=t.scrollHeight}),100)},o=(e,o)=>{var r,s;let a=null!==(s=null===(r=this.consoleContent)||void 0===r?void 0:r.split("\n"))&&void 0!==s?s:[];a.length>1e3&&(a=a.slice(a.length-1e3+1)),this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),t.classList.add("visible");const i=this;var l,c;l=e=>{var n;i.consoleContent=(o?`<span class="${o}">`:"")+a.join("\n")+"&nbsp;&nbsp;".repeat(null!==(n=parseInt(t.dataset["group-level"]))&&void 0!==n?n:0)+e+(o?"</span>":""),t.innerHTML=i.consoleContent,t.scrollTop=t.scrollHeight},c=()=>n(),l(e+"\n"),c()};return{...window.console,assert:(e,...t)=>{if(!e){let e=s(t);e.length>0&&(e=":\n   "+e),o("Assertion failed"+e,"error")}},catch:e=>{const t=e.stack.split("at ")[1].match(/:([0-9]+):([0-9]+)/)||[];o('<span class="error">'+(t[1]?"Line "+parseInt(t[1])+"\n   ":"")+e.message+"</span>")},clear:()=>{this.consoleContent="",n()},debug:(...e)=>o(s(e)),dir:(...e)=>o(s(e)),error:(...e)=>o(s(e),"error"),group:(...e)=>{var n;arguments.length>0&&o(s(e),"group"),t.dataset["group-level"]=Number((null!==(n=parseInt(t.dataset["group-level"]))&&void 0!==n?n:0)+1).toString()},groupCollapsed:(...e)=>{var n;arguments.length>0&&o(s(e),"group"),t.dataset["group-level"]=Number((null!==(n=parseInt(t.dataset["group-level"]))&&void 0!==n?n:0)+1).toString()},groupEnd:()=>{var e;t.dataset["group-level"]=Number((null!==(e=parseInt(t.dataset["group-level"]))&&void 0!==e?e:0)-1).toString()},info:(...e)=>o(s(e),"info"),log:(...e)=>o(s(e),"log"),warn:(...e)=>o(s(e),"warning")}}processLiveCodeJavascript(e){if(!e)return"";const t=Date.now().toString(26).slice(-2)+Math.floor(1e5*Math.random()).toString(26);e=(e=(e=(e=e.replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelector\s*\()/g,"$1output"+t+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelectorAll\s*\))/g,"$1output"+t+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*)getElementById\s*\(/g,"$1output"+t+"$2querySelector('#'+")).replace(/([^a-zA-Z0-9_-])?console(\s*\.\s*)/g,"$1console"+t+"$2");const n=[];return e=e.replace(/([^a-zA-Z0-9_-]?import.*)('.*'|".*");/g,((e,t,o)=>(n.push([e,t,o.slice(1,o.length-1)]),`/* ${t}${o} */`))),n.map((e=>this.moduleMap[e[2]]?`${e[1]} "${this.moduleMap[e[2]]}";`:e[0])).join("")+`const playground${t} = document.getElementById("${this.id}").shadowRoot.host;`+`const console${t} = playground${t}.pseudoConsole;`+`const output${t} = playground${t}.outputElement;(async function() {try {\n`+e+`\n} catch(err) { console${t}.catch(err) }}());`}get showLineNumbers(){return this.hasAttribute("show-line-numbers")||this.hasAttribute("showLineNumbers")}set showLineNumbers(e){this.removeAttribute("showLineNumbers"),e?this.setAttribute("show-line-numbers",""):this.removeAttribute("show-line-numbers")}get markLine(){return this.getAttribute("mark-line")||this.getAttribute("markLine")||this.getAttribute("mark-javascript-line")||this.getAttribute("markJavaScriptLine")}set markLine(e){this.removeAttribute("markLine"),this.setAttribute("mark-line",e)}}function o(){return"i"+(Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36))}function r(e,t,n={}){var o,s;if(null!==(o=n.quote)&&void 0!==o||(n.quote='"'),null!==(s=n.ancestors)&&void 0!==s||(n.ancestors=[]),"boolean"==typeof t)return{text:`<span class="boolean">${a(String(t))}</span>`,itemCount:1,lineCount:1};if("number"==typeof t)return{text:`<span class="number">${a(String(t))}</span>`,itemCount:1,lineCount:1};if("string"==typeof t)return 0===n.quote.length?{text:a(t),itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length}:{text:`<span class="string">${a(n.quote+t+n.quote)}</span>`,itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length};if("function"==typeof t){let e="";return e=a("toString"in t?t.toString():String(t)),{text:`<span class="function">ƒ  ${e}</span>`,itemCount:1,lineCount:e.split(/\r\n|\r|\n/).length}}if(null==t)return{text:`<span class="null">${a(String(t))}</span>`,itemCount:1,lineCount:1};if(e>20)return{text:'<span class="sep">(...)</span>',itemCount:1,lineCount:1};if(Array.isArray(t)){if(n.ancestors.includes(t))return{text:'<span class="sep">[...]</span>',itemCount:1,lineCount:1};const o=[];for(let s=0;s<t.length;s++)Object.keys(t).includes(Number(s).toString())?o.push(r(e+1,t[s],{ancestors:[...n.ancestors,t]})):o.push({text:'<span class="empty">empty</span>',itemCount:1,lineCount:1});const s=o.reduce(((e,t)=>e+t.itemCount),0),a=o.reduce(((e,t)=>Math.max(e,t.lineCount)),0);return s>5||a>1?{text:"<span class='sep'>[</span>\n"+"  ".repeat(e+1)+o.map(((e,t)=>'<span class="index">'+t+"</span>"+e.text)).join("<span class='sep'>, </span>\n"+"  ".repeat(e+1))+"\n"+"  ".repeat(e)+"<span class='sep'>]</span>",itemCount:s,lineCount:2+o.reduce(((e,t)=>e+t.lineCount),0)}:{text:"<span class='sep'>[</span>"+o.map((e=>e.text)).join("<span class='sep'>, </span>")+"<span class='sep'>]</span>",itemCount:Math.max(1,s),lineCount:1}}if(t instanceof Element){if(n.ancestors.includes(t))return{text:'<span class="object">Element...</span>',itemCount:1,lineCount:1};let e=`<${t.localName}`,o=1;if(Array.from(t.attributes).forEach((n=>{e+=" "+n.localName;const o=t.getAttribute(n.localName);o.length>0&&(e+='="'+o+'"')})),e+=">",t.innerHTML){let n=t.innerHTML.split("\n");n.length>4&&(n=[...n.slice(0,5),"(...)\n"]),e+=n.join("\n"),o+=n.length}return e+=`</${t.localName}>`,{text:`<span class="object">${a(e)}</span>`,itemCount:1,lineCount:o}}if("object"==typeof t){if(n.ancestors.includes(t))return{text:'<span class="sep">{...}</span>',itemCount:1,lineCount:1};if(t instanceof Map){const o=Object.fromEntries(t),s=r(e,o,{ancestors:[...n.ancestors,t]});return{...s,text:"<span class=object>Map</span>"+s.text}}if(t instanceof Set){const o=Array.from(t),s=r(e,o,{ancestors:[...n.ancestors,t]});return{...s,text:"<span class=object>Set</span>"+s.text}}if("toString"in t){const e=t.toString();if("[object Object]"!==e)return{text:a(e),itemCount:1,lineCount:1}}let o=Object.keys(t);if(Object.getOwnPropertyNames(t).forEach((e=>{o.includes(e)||o.push(e)})),o=o.filter((e=>!e.startsWith("_"))),0===o.length&&"function"==typeof o.toString){const e=t.toString();return"[object Object]"===e?{text:'<span class="sep">{}</span>',itemCount:1,lineCount:1}:{text:e,itemCount:1,lineCount:e.split(/\r\n|\r|\n/).length}}const s=o.sort().map((o=>{if("object"==typeof t[o]&&null!==t[o]){let s=r(e+1,t[o],{ancestors:[...n.ancestors,t]});return s.itemCount>500&&(s={text:"<span class='sep'>(...)</span>",itemCount:1,lineCount:1}),{text:`<span class="property">${o}</span><span class='sep'>: </span>${s.text}`,itemCount:s.itemCount,lineCount:s.lineCount}}if("function"==typeof t[o])return{text:`<span class="property">${o}</span></span><span class='sep'>: </span><span class='function'>ƒ (...)</span>`,itemCount:1,lineCount:1};const s=r(e+1,t[o],{ancestors:[...n.ancestors,t]});return{text:`<span class="property">${o}</span></span><span class='sep'>: </span>${s.text}`,itemCount:s.itemCount,lineCount:s.lineCount}})),i=s.reduce(((e,t)=>e+t.itemCount),0),l=s.reduce(((e,t)=>e+t.lineCount),0);return i<5?{text:"<span class='sep'>{</span>"+s.map((e=>e.text)).join("</span><span class='sep'>, </span>")+"<span class='sep'>}</span>",itemCount:i,lineCount:l}:{text:"<span class='sep'>{</span>\n"+"  ".repeat(e+1)+s.map((e=>e.text)).join("</span><span class='sep'>,</span>\n"+"  ".repeat(e+1))+"\n"+"  ".repeat(e)+"<span class='sep'>}</span>",itemCount:i,lineCount:l+2}}return{text:String(t),itemCount:1,lineCount:1}}function s(e){const t=e[0],n=e.slice(1);return"string"==typeof t&&t.includes("%")&&n.length?t.replace(/(%[oscdif]|%(\d*)\.(\d*)[dif])/g,((e,t,o="",s)=>{if("%o"===t)return r(0,n.shift()).text;if("%s"===t)return n.shift();if("%c"===t)return`</span><span style="${n.shift()}">`;const a=n.shift();let i=null;return"f"===t.substr(-1)&&"number"==typeof a?i=isNaN(parseInt(s,10))?a:a.toFixed(s):"string"==typeof a&&(i=parseInt(a,10)),""===o?i:r(0,i).text.padStart(o," ")})):e.map((e=>r(0,e,{quote:""}).text)).join(" ")}function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function i(e){return(e=(e=e.trim()).replace(/<!--.*-->\n?/g,"")).split("\n").map((e=>"//"===e.trim()?"":e)).join("\n")}function l(e,t,n){var o;if(void 0===n)return;const r=null===(o=e.querySelector(`textarea[data-language="${t}"] + .CodeMirror`))||void 0===o?void 0:o.CodeMirror;if(r){for(let e=r.doc.firstLine();e<=r.doc.lastLine();e++)r.doc.removeLineClass(e,"wrap","marked");if("string"==typeof n)for(let e of n.split(","))if(e=e.trim(),""!==e&&"none"!==e){if(/\d+-\d+/.test(e)){let[,e,t]=n.match(/(\d+)-(\d+)/);for(let n=parseInt(e);n<=Math.max(parseInt(e),parseInt(t));n++)r.doc.addLineClass(n-1,"wrap","marked");return}r.doc.addLineClass(parseInt(n)-1,"wrap","marked")}}}n.attributes={showLineNumbers:"show-line-numbers",buttonBarVisibility:"button-bar-visibility",autorun:"autorun",markLine:"mark-line",markJavascriptLine:"mark-javascript-line",markHtmlLine:"mark-html-line"},null!==(e=customElements.get("code-playground"))&&void 0!==e||customElements.define("code-playground",n);export{n as CodePlaygroundElement};
