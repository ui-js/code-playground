/*  v1.13.0  */
var t;const n="#cc6666",e="#f0c674",o=n,r=e,a=document.createElement("template");a.innerHTML=`\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">\n<style>\n\n:host {\n    display: block;\n    font-family: var(--ui-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI",\n      Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n      "Helvetica Neue", "Source Sans Pro"), sans-serif;\n    line-height: 1.5;\n    margin-top: 8px;\n    --_base-00: var(--base-00, #35434e);\n    --_base-01: var(--base-01, #282a2e);\n    --_base-02: var(--base-02, #373b41);\n    --_base-03: var(--base-03, #969896);\n    --_base-04: var(--base-04, #b4b7b4);\n    --_base-05: var(--base-05, #c5c8c6);\n    --_base-06: var(--base-06, #e0e0e0);\n    --_base-07: var(--base-07, #ffffff);\n    --_base-08: var(--base-08, #8abeb7);\n    --_base-09: var(--base-09, #ec9c65);\n    --_base-0a: var(--base-0a, ${e});\n    --_base-0b: var(--base-0b, #b5bd68);\n    --_base-0c: var(--base-0c, ${n});\n    --_base-0d: var(--base-0d, #81a2be);\n    --_base-0e: var(--base-0e, #b294bb);\n    --_base-0f: var(--base-0f, #a3685a);\n    --_semantic-red: var(--semantic-red, ${o});\n    --_semantic-orange: var(--semantic-orange, ${r});\n\n  }\n  :host([hidden]) {\n    display: none;\n  }\n\n  slot { display: none; }\n\n  .original-content {\n    display: none;\n  }\n\n  .editors.hidden {\n    display: none;\n  }\n\n  .__code-playground-container {\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    height: 100%;\n    min-width: 300px;\n    border-radius: 8px;\n    width: 100%;\n    margin: 0;\n    background: transparent\n  }\n\n  .__code-playground-editor {\n    border: 1px solid #ccc;\n    background: var(--base-00);\n    color: var(--base-05);\n  }\n\n  .__code-playground-container textarea {\n    display: block;\n\n    color: var(--text-color);\n    background: var(--ui-background);\n\n    min-height: 4em;\n    height: 100%;\n    width: 100%;\n\n    resize: vertical;\n\n    border: var(--ui-border, 1px solid rgba(0,0,0,.25));\n    outline: none;\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 16px;\n    line-height: 1.2;\n  }\n\n\n  .__code-playground-container label {\n    display: block;\n    font-weight: 700;\n    padding-top: 4px;\n    padding-bottom: 4px;\n}\n\n\n  :host div.__code-playground-button-bar:not(.visible) {\n    display: none !important;\n  }\n\n  button svg {\n    height: 1em;\n    width: 1em;\n    margin-right: .55em;\n    vertical-align: -.12em;\n  }\n  \n\n  #run-button:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-result {\n    width: 100%;\n    margin: .5em 0 0 0;\n  }\n\n\n  .__code-playground-output {\n    display:  flex;\n    flex-flow: column;\n  }\n\n  .__code-playground-output:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-output textarea {\n    width: calc(100% - 16px);\n  }\n\n  .__code-playground-output button {\n    appearance: none;\n    font-family: var(--ui-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI",      Roboto, Oxygen-Sans, Ubuntu, Cantarell,      "Helvetica Neue", "Source Sans Pro"), sans-serif;\n    font-size: 1rem;\n    font-weight: 600;\n    border-radius: 8px;\n    border: 1px solid var(--base-05, #c5c8c6);\n    color: var(--base-00, #35434e);\n    background: var(--base-07, #ffffff);\n    padding: 4px 16px;\n    min-height: 42px;\n    min-width: 42px;\n    filter: drop-shadow(4px 4px 8px #00000020);\n  }\n\n  .__code-playground-output button:hover {\n    background: var(--base-06, #e0e0e0);\n    background-opacity: .4;\n\n  }\n\n  .__code-playground-output button:active {\n    background: var(--base-07, #ffffff);\n    color: var(--base-00, #35434e);\n    filter: drop-shadow(0px 0px 4px #00000040);\n  }\n\n\n  .__code-playground-output button:disabled, \n  .__code-playground-output button:disabled:hover {\n    background: var(--base-07, #ffffff);\n    color: var(--base-04, #b4b7b4);\n    filter: none;\n  }\n\n\n\n\n  .__code-playground-output .row {\n    display: flex;\n    flex-flow: row;\n    justify-content: space-between;\n  }\n\n  .__code-playground-output .row > * {\n    flex: .25;\n  }\n\n  .__code-playground-output .row > *:not(:first-child) {\n    margin-left: 8px;\n  }\n\n  .__code-playground-output .row > *:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .__code-playground-output .row > *:first-child {\n    margin-left: 0;\n  }\n\n  .__code-playground-output .row > *:last-child {\n    margin-right: 0;\n  }\n\n  .__code-playground-output .stack {\n    display: flex;\n    flex-flow: column;\n    margin-top: 8px;\n    margin-bottom: 8px;\n  }\n\n\n  .__code-playground-console {\n    display: block;\n    max-height: 50vh;\n    margin: .5em 0 0 0;\n    overflow: auto;\n\n    padding: 8px 8px 8px 1em;\n    border-radius: 8px;\n\n    color: var(--_base-05);\n    background: var(--_base-00);\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 1em;\n\n    white-space: pre-wrap;\n  }\n\n  .__code-playground-console:not(.visible) {\n    display: none !important;\n  }\n\n\n  .__code-playground-console::selection, \n  .__code-playground-console *::selection {\n    background: var(--selection-background, var(--_base-01));\n    color: var(--selection-color, inherit);\n  }\n\n\n  .__code-playground-console .sep {\n    color: var(--_base-05);\n  }\n  .__code-playground-console .index {\n    color: var(--_base-05);\n    opacity: .3;\n    float: left;\n    width: 0;\n    font-style: italic;\n  }\n  .__code-playground-console .boolean {\n    color: var(--_base-0e);\n    font-weight: bold;\n  }\n  .__code-playground-console .empty {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .null {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .string {\n    color: var(--_base-0a);\n    font-weight: bold;\n  }\n  .__code-playground-console .function {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .number {\n    color: var(--_base-0e);\n  }\n  .__code-playground-console .property {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .object {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .error {\n    display: inline;\n    padding: 4px 8px;\n    background: var(--red-800);\n    color: white;\n    border-left: 4px solid var(--_semantic-red);\n    border-radius: 4px;\n    box-decoration-break: clone;\n  }\n  .__code-playground-console .warning {\n    color: var(--_semantic-orange);\n  }\n  .__code-playground-console .log {\n    color: var(--blue--200);\n  }\n  .__code-playground-console .group {\n    font-weight: bold;\n  }\n  \n\n\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --selection-background: var(--primary-color);\n    --selection-color: #fff;\n  }\n}\n  \n\n/* Tomorrow Comment */\n.hljs-comment {\n    color: var(--_base-04);\n}\n\n/* Function (JS) and tag (HTML) names */\n.hljs-tag, .hljs-title {\n    color: var(--_base-0a);\n}\n  \n/* Tomorrow Red */\n.hljs-variable,\n.hljs-attribute,\n.hljs-tag,\n.hljs-regexp,\n.ruby .hljs-constant,\n.xml .hljs-tag .hljs-title,\n.xml .hljs-pi,\n.xml .hljs-doctype,\n.html .hljs-doctype,\n.css .hljs-id,\n.css .hljs-class,\n.css .hljs-pseudo {\n  color: var(--_base-0c);\n}\n\n/* Tomorrow Orange */\n.hljs-number,\n.hljs-preprocessor,\n.hljs-built_in,\n.hljs-literal,\n.hljs-params,\n.hljs-constant {\n  color: var(--_base-09);\n  font-weight: normal;\n}\n\n/* Tomorrow Yellow */\n.ruby .hljs-class .hljs-title,\n.css .hljs-rules .hljs-attribute {\n    color: var(--_base-0a);\n}\n\n/* Tomorrow Green */\n.hljs-string,\n.hljs-value,\n.hljs-inheritance,\n.hljs-header,\n.ruby .hljs-symbol,\n.xml .hljs-cdata {\n  color: var(--_base-0b);\n}\n\n/* Tomorrow Aqua */\n.css .hljs-hexcolor {\n  color: var(--_base-08);\n}\n\n/* Tomorrow Blue */\n.hljs-function,\n.python .hljs-decorator,\n.python .hljs-title,\n.ruby .hljs-function .hljs-title,\n.ruby .hljs-title .hljs-keyword,\n.perl .hljs-sub,\n.javascript .hljs-title,\n.coffeescript .hljs-title {\n  color: var(--_base-0d);\n  font-weight: bold;\n}\n\n/* Tomorrow Purple */\n.hljs-keyword,\n.javascript .hljs-function {\n  color: var(--_base-0e);\n  font-weight: bold;\n}\n\n.hljs {\n  display: block;\n  background: var(--_base-00);\n  color: var(--_base-05);\n  padding: 0.5em;\n}\n\n.coffeescript .javascript,\n.javascript .xml,\n.tex .hljs-formula,\n.xml .javascript,\n.xml .vbscript,\n.xml .css,\n.xml .hljs-cdata {\n    opacity: 0.5;\n}\n\n// Rouge typographic adjustments.\n// See https://github.com/rouge-ruby/rouge/wiki/List-of-tokens\n\n.highlight .c1,     // Single line comment\n.highlight .cm      // Multiline comment\n  {\n    font-style: italic;\n}\n\n.highlight .k,       // keywords\n.highlight .kc,       // keywords constant\n.highlight .kd,       // keywords declaration\n.highlight .kn,       // keywords namespace\n.highlight .kp,       // keywords pseudi\n.highlight .kr,       // keywords reserved\n.highlight .kt,       // keywords type\n.highlight .kv       // keywords variable\n{\n  font-weight: bold;\n}\n\n.CodeMirror {\n  font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n  color: inherit;\n}\n.cm-s-tomorrow-night.CodeMirror { background: transparent; }\n.cm-s-tomorrow-night div.CodeMirror-selected { background: var(--selection-background, var(--_base-01)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::selection, .cm-s-tomorrow-night .CodeMirror-line > span::selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::-moz-selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-gutters { background: transparent; border-right: 0px; }\n.cm-s-tomorrow-night .CodeMirror-guttermarker { color: var(--_base-0c); }\n.cm-s-tomorrow-night .CodeMirror-guttermarker-subtle { color: var(--_base-03); }\n.cm-s-tomorrow-night .CodeMirror-linenumber { color: var(--_base-04); opacity: .7; }\n.cm-s-tomorrow-night .CodeMirror-cursor { border-left: 1px solid var(--_base-0d); }\n\n.cm-s-tomorrow-night span.cm-comment { color: var(--_base-04); }\n.cm-s-tomorrow-night span.cm-atom { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-number { color: var(--_base-0e); }\n\n.cm-s-tomorrow-night span.cm-property, .cm-s-tomorrow-night span.cm-attribute { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-keyword { color: var(--_base-0c); }\n.cm-s-tomorrow-night span.cm-string { color: var(--_base-0b); }\n\n.cm-s-tomorrow-night span.cm-variable { color: var(--_base-0b); }\n.cm-s-tomorrow-night span.cm-variable-2 { color: var(--_base-0d); }\n.cm-s-tomorrow-night span.cm-def { color: var(--_base-09); }\n.cm-s-tomorrow-night span.cm-bracket { color: var(--_base-05); }\n.cm-s-tomorrow-night span.cm-tag { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-link { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-error { background: var(--_base-0c); color: var(--_base-03); }\n\n.cm-s-tomorrow-night .CodeMirror-activeline-background { background: var(--_base-02); }\n.cm-s-tomorrow-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }    \n\n\n.CodeMirror .marked div.CodeMirror-linenumber {\n  opacity: 1;\n  color: var(--base-07, #fff);\n}\n\n.CodeMirror .marked pre.CodeMirror-line::before {\n  content: "";\n  position: absolute;\n  top: 0; \n  left: 0;\n  width: 100%; \n  height: 100%;  \n  opacity: .5; \n  z-index: -1;\n  background: var(--editor-marked-line, var(--cyan-700, #0c6abe)) !important;\n}\n</style>\n<slot name="style"></slot>\n`;class s extends HTMLElement{static get observedAttributes(){return Object.values(s.attributes)}attributeChangedCallback(t,n,e){if(n===e)return;const o=s.attributes;t===o.markLine||t===o.markJavascriptLine?h(this.shadowRoot,"javascript",e):t===o.markHtmlLine?h(this.shadowRoot,"html",e):t===o.showLineNumbers&&this.shadowRoot.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.setLineNumbers(this.showLineNumbers)}))}constructor(){var t;super(),this.dirty=!1,this.consoleContent="",this.edited=!1,this.resetting=!1,this.timers={},this.moduleMap=null!==(t=window.moduleMap)&&void 0!==t?t:{},this.attachShadow({mode:"open",delegatesFocus:!0})}get isContentEditable(){return!0}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=null,this.shadowRoot.innerHTML="",this.dirty=!0,this.runTimer&&clearTimeout(this.runTimer),this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.edited=!1,this.resetting=!1}connectedCallback(){const t=this.shadowRoot;this.id||(this.id=i()),t.appendChild(a.content.cloneNode(!0));const n=t.querySelector("slot[name=style]");if(n){const e=n.assignedNodes().map((t=>t.innerHTML)).join("").trim();if(e){const n=document.createElement("style");n.innerHTML=e,t.appendChild(n)}}const e=document.createElement("div");this.containerId=i(),e.id=this.containerId,e.innerHTML='<div inert class="original-content" translate="no"><slot name="html"></slot><slot name="javascript"></slot></div>\n\n  <div class="__code-playground-container" translate="no">\n  \n    <div class="editors hidden" part="editors"></div>\n\n    <div class="__code-playground-button-bar" part="button-bar">\n      <button id="reset-button" part="button" disabled><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="history" class="svg-inline--fa fa-history fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 255.532c.252 136.64-111.182 248.372-247.822 248.468-64.014.045-122.373-24.163-166.394-63.942-5.097-4.606-5.3-12.543-.443-17.4l16.96-16.96c4.529-4.529 11.776-4.659 16.555-.395C158.208 436.843 204.848 456 256 456c110.549 0 200-89.468 200-200 0-110.549-89.468-200-200-200-55.52 0-105.708 22.574-141.923 59.043l49.091 48.413c7.641 7.535 2.305 20.544-8.426 20.544H26.412c-6.627 0-12-5.373-12-12V45.443c0-10.651 12.843-16.023 20.426-8.544l45.097 44.474C124.866 36.067 187.15 8 256 8c136.811 0 247.747 110.781 248 247.532zm-167.058 90.173l14.116-19.409c3.898-5.36 2.713-12.865-2.647-16.763L280 259.778V116c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v168.222l88.179 64.13c5.36 3.897 12.865 2.712 16.763-2.647z"></path></svg>Reset</button>\n\n      <button id="run-button" part="button"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="play" class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6zM48 453.5v-395c0-4.6 5.1-7.5 9.1-5.2l334.2 197.5c3.9 2.3 3.9 8 0 10.3L57.1 458.7c-4 2.3-9.1-.6-9.1-5.2z"></path></svg>Run</button>\n    </div>\n\n    <div class="__code-playground-result" translate="no">\n      <div class="__code-playground-output" part="output" translate="no"></div>\n    </div>\n\n  </div>',t.appendChild(e),t.getElementById("run-button").addEventListener("click",(()=>this.run())),t.getElementById("reset-button").addEventListener("click",(()=>this.reset())),t.addEventListener("slotchange",(()=>{this.dirty=!0,requestAnimationFrame((()=>this.update()))})),this.resizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>{t.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.refresh()}))}))})),this.updateButtonBar()}get outputStylesheets(){return this.hasAttribute("outputStylesheets")?this.getAttribute("outputStylesheets").split(" "):[]}set outputStylesheets(t){this.setAttribute("outputStylesheets",t.join(" "))}get autorun(){if(!this.hasAttribute("autorun"))return 1e3;const t=this.getAttribute("autorun");return"never"===t?"never":isFinite(parseFloat(t))?parseFloat(t):1e3}set autorun(t){this.setAttribute("autorun",t.toString()),this.updateButtonBar()}get buttonBarVisibility(){var t,n;const e=null!==(n=null!==(t=this.getAttribute("button-bar-visibility"))&&void 0!==t?t:this.getAttribute("buttonBarVisibility"))&&void 0!==n?n:"auto";return"auto"===e?this.edited||"never"===this.autorun?"visible":"hidden":e}set buttonBarVisibility(t){this.setAttribute("buttonBarVisibility",t)}get compactWidth(){const t=this.getAttribute("compact-width");return t&&isFinite(parseFloat(t))?Math.floor(parseFloat(t)):80}set compactWidth(t){this.setAttribute("compact-width",Math.floor(t).toString())}get buttonBarVisible(){var t,n;return null!==(n=null===(t=this.shadowRoot.querySelector(".__code-playground-button-bar"))||void 0===t?void 0:t.classList.contains("visible"))&&void 0!==n&&n}updateButtonBar(){const t=this.buttonBarVisibility,n=this.shadowRoot.querySelector(".__code-playground-button-bar");if(!n)return;const e=this.shadowRoot.getElementById("reset-button");e&&(e.disabled=!this.edited);const o=this.shadowRoot.getElementById("run-button");o&&(o.disabled=!1),null==o||o.classList.toggle("visible","never"===this.autorun),null==n||n.classList.toggle("visible","visible"===t)}update(){var t;if(!this.dirty)return;this.dirty=!1,this.updateButtonBar();const n=this.shadowRoot,e=n.querySelector(".editors");if(!e)return;const o=[...n.querySelectorAll(".original-content slot")];let r="";for(const n of o){let e=n.assignedNodes().map((t=>t.innerHTML)).join("");if(e){e=e.replace(/<!-- -->/g,"");const o=n.name.toLowerCase();r+=`<label part="label">${null!==(t={html:"HTML",javascript:"JavaScript",css:"CSS",json:"JSON"}[o])&&void 0!==t?t:o}</label>\n        <div part="editor" class="__code-playground-editor ${o}">\n            <textarea spellcheck="false" autocorrect="off"  autocapitalize="off" data-language="${o}">${e}</textarea> \n        </div>`}}e.innerHTML=r,"CodeMirror"in window&&void 0!==window.CodeMirror&&(this.resizeObserver.disconnect(),n.querySelectorAll(".editors textarea").forEach((t=>{var e;this.resizeObserver.observe(t.parentElement);const o=null!==(e={ts:"typescript",typescript:"typescript",js:"javascript",javascript:"javascript",json:{name:"javascript",json:!0},css:"css",html:{name:"xml",htmlMode:!0}}[t.dataset.language])&&void 0!==e?e:"javascript",r=CodeMirror.fromTextArea(t,{lineNumbers:this.showLineNumbers,lineWrapping:!0,mode:o,theme:"tomorrow-night"});var a;r.setValue(p(t.value)),r.setSize("100%","100%"),"javascript"===t.dataset.language&&h(n,"javascript",this.getAttribute("markLine")),h(n,t.dataset.language,this.getAttribute(`mark${a=t.dataset.language,a.charAt(0).toUpperCase()+a.slice(1)}Line`)),r.on("change",(()=>this.editorContentChanged()))})),e.classList.remove("hidden")),"never"!==this.autorun&&this.run(),"CodeMirror"in window&&void 0!==window.CodeMirror&&setTimeout((()=>n.querySelectorAll("textarea + .CodeMirror").forEach((t=>{var n;return null===(n=null==t?void 0:t.CodeMirror)||void 0===n?void 0:n.refresh()}))),128)}async run(){var t,n,e,o,r,a;const s=this.shadowRoot,i=s.querySelector(".__code-playground-result");if(!i)return;i.querySelectorAll(".__code-playground-result > script").forEach((t=>i.removeChild(t))),this.pseudoConsole.clear();let l="";const c=s.querySelector('textarea[data-language="html"] + .CodeMirror');l=c?null===(t=c.CodeMirror)||void 0===t?void 0:t.getValue():null!==(e=null===(n=s.querySelector('textarea[data-language="html"]'))||void 0===n?void 0:n.value)&&void 0!==e?e:"";const u=l.match(/<script.*>.*?<\/script>/g);null==u||u.forEach((t=>{const n=t.match(/<script([^>]*?)>(.*)<\/script>/),e=new RegExp("[\\s\\r\\t\\n]*([a-z0-9\\-_]+)[\\s\\r\\t\\n]*=[\\s\\r\\t\\n]*(['\"])((?:\\\\\\2|(?!\\2).)*)\\2","ig"),o={};let r;for(;r=e.exec(n[1]);)o[r[1]]=r[3];const a=document.createElement("script");Object.keys(o).forEach((t=>a[t]=o[t]));try{a.textContent=this.processLiveCodeJavascript(n[2]),i.appendChild(a)}catch(t){this.pseudoConsole.error(t.message)}}));try{this.outputStylesheets.forEach((t=>{const n=t.trim();n.length>0&&(l=`<link rel="stylesheet" href="${n}"></link>${l}`)}));const t=s.querySelector("div.__code-playground-result > div.__code-playground-output");t&&(l?t.classList.add("visible"):t.classList.remove("visible"),t.innerHTML=l)}catch(t){this.pseudoConsole.error(t.message)}const d=s.querySelector('textarea[data-language="javascript"] + .CodeMirror');let p="";p=d?null===(o=d.CodeMirror)||void 0===o?void 0:o.getValue():null!==(a=null===(r=s.querySelector('textarea[data-language="javascript"]'))||void 0===r?void 0:r.value)&&void 0!==a?a:"";for(const t of l.matchAll(/\<([a-zA-Z0-9]+\-[a-zA-Z0-9]*)[^\>]*\>/g))await customElements.whenDefined(t[1]);const h=document.createElement("script");h.type="module";try{h.textContent=this.processLiveCodeJavascript(p),i.appendChild(h)}catch(t){this.pseudoConsole.error(t.message)}}editorContentChanged(){this.resetting||(this.edited=!0,this.updateButtonBar(),"never"!==this.autorun&&(this.runTimer&&clearTimeout(this.runTimer),0===this.autorun?this.run():this.runTimer=setTimeout((()=>this.run()),this.autorun)))}reset(){this.resetting=!0,this.runTimer&&clearTimeout(this.runTimer),this.shadowRoot.querySelectorAll(".original-content slot").forEach((t=>{var n;const e=t.assignedNodes().map((t=>t.innerText)).join("");if(e){const o=this.shadowRoot.querySelector(`textarea[data-language="${t.name}"] + .CodeMirror`);if(o)null===(n=o.CodeMirror)||void 0===n||n.setValue(p(e)),"javascript"===t.name?h(this.shadowRoot,"javascript",this.markLine):h(this.shadowRoot,t.name,this.getAttribute(`mark-${t.name}-line`));else{const n=this.shadowRoot.querySelector(`textarea[data-language="${t.name}"]`);n&&(n.value=p(e))}}})),this.updateButtonBar(),this.run(),this.edited=!1,this.resetting=!1,this.updateButtonBar()}get outputElement(){return this.shadowRoot.querySelector("div.__code-playground-output")}get pseudoConsole(){const t=this.shadowRoot;let n=t.querySelector(".__code-playground-console");if(!n){const e=t.querySelector(".__code-playground-result");if(!e)return{...window.console,catch:()=>{}};n=document.createElement("pre"),n.classList.add("__code-playground-console"),n.setAttribute("part","console"),e.appendChild(n)}const e=this,o=()=>{this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.consoleUpdateTimer=setTimeout((()=>{n.innerHTML=this.consoleContent,this.consoleContent?(n.classList.add("visible"),n.style.display="block"):n.classList.remove("visible"),n.scrollTop=n.scrollHeight}),100)},r=(t,r)=>{var a,s;this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),n.classList.add("visible"),a=t=>{var o;const a="&nbsp;&nbsp;".repeat(null!==(o=parseInt(n.dataset["group-level"]))&&void 0!==o?o:0)+(r?`<span class="${r}">${t}</span>`:t);e.consoleContent=(e.consoleContent||"")+a,n.innerHTML=e.consoleContent,n.scrollTop=n.scrollHeight},s=()=>o(),a(t+"\n"),s()};return{...window.console,assert:(t,...n)=>{if(!t){let t=u(n,{maxWidth:e.compactWidth});t.length>0&&(t=":\n   "+t),r("Assertion failed"+t,"error")}},catch:t=>{const n=t.stack.split("at ")[1].match(/:([0-9]+):([0-9]+)/)||[];r((n[1]?"Line "+parseInt(n[1])+"\n   ":"")+t.message,"error")},clear:()=>{this.consoleContent="",o()},debug:(...t)=>r(u(t,{maxWidth:e.compactWidth})),dir:(...t)=>r(u(t,{maxWidth:e.compactWidth})),error:(...t)=>r(u(t,{maxWidth:e.compactWidth}),"error"),group:(...t)=>{var o;arguments.length>0&&r(u(t,{maxWidth:e.compactWidth}),"group"),n.dataset["group-level"]=Number((null!==(o=parseInt(n.dataset["group-level"]))&&void 0!==o?o:0)+1).toString()},groupCollapsed:(...t)=>{var o;arguments.length>0&&r(u(t,{maxWidth:e.compactWidth}),"group"),n.dataset["group-level"]=Number((null!==(o=parseInt(n.dataset["group-level"]))&&void 0!==o?o:0)+1).toString()},groupEnd:()=>{var t;n.dataset["group-level"]=Number((null!==(t=parseInt(n.dataset["group-level"]))&&void 0!==t?t:0)-1).toString()},info:(...t)=>r(u(t,{maxWidth:e.compactWidth}),"info"),log:(...t)=>{const n=u(t,{maxWidth:e.compactWidth});r(n,"log")},warn:(...t)=>r(u(t,{maxWidth:e.compactWidth}),"warning"),time:t=>{this.timers[t]=Date.now()},timeEnd:(t,...n)=>{if(!this.timers[t])return r(u(n,{maxWidth:e.compactWidth}),"log");const o=Date.now()-this.timers[t];return r(o>1e3?`${u(n,{maxWidth:e.compactWidth})}\n${t}: ${Number(o/1e3).toFixed(2)}s`:`${u(n,{maxWidth:e.compactWidth})}\n${t}: ${o}ms`,"log")}}}processLiveCodeJavascript(t){if(!t)return"";const n=Date.now().toString(26).slice(-2)+Math.floor(1e5*Math.random()).toString(26);t=(t=(t=t.replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelector\s*\()/g,"$1output"+n+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelectorAll\s*\))/g,"$1output"+n+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*)getElementById\s*\(/g,"$1output"+n+"$2querySelector('#'+");const e=[];t=t.replace(/([^a-zA-Z0-9_-]?import.*)('.*'|".*");/g,((t,n,o)=>(e.push([t,n,o.slice(1,o.length-1)]),`/* ${n}${o} */`)));const o=this.pseudoConsole,r=this.outputElement;return window[`pseudoConsole${n}`]=o,window[`outputElement${n}`]=r,window[`errorCatcher${n}`]=function(t){return function(...n){try{return t.apply(this,n)}catch(t){return void o.error("Uncaught Error: "+(t.message||t))}}},e.map((t=>this.moduleMap[t[2]]?`${t[1]} "${this.moduleMap[t[2]]}";`:t[0])).join("")+`\n(function() {\n  const originalConsole = window.console;\n  const pseudoConsole = window.pseudoConsole${n};\n  const output${n} = window.outputElement${n};\n  \n  // Override console methods directly\n  const console = {\n    log: (...args) => pseudoConsole.log(...args),\n    warn: (...args) => pseudoConsole.warn(...args),\n    error: (...args) => pseudoConsole.error(...args),\n    info: (...args) => pseudoConsole.info(...args),\n    debug: (...args) => pseudoConsole.debug(...args),\n    dir: (...args) => pseudoConsole.dir(...args),\n    clear: () => pseudoConsole.clear(),\n    time: (label) => pseudoConsole.time(label),\n    timeEnd: (label) => pseudoConsole.timeEnd(label),\n    group: (...args) => pseudoConsole.group(...args),\n    groupEnd: () => pseudoConsole.groupEnd(),\n    assert: (condition, ...args) => pseudoConsole.assert(condition, ...args)\n  };\n\n  window.console = console;\n\n  // Create wrapped versions of async functions that catch errors\n  const errorCatcher = window.errorCatcher${n};\n  const originalSetTimeout = window.setTimeout;\n  const originalSetInterval = window.setInterval;\n  \n  // Override setTimeout and setInterval to wrap callbacks\n  window.setTimeout = function(callback, delay, ...args) {\n    if (typeof callback === 'function') {\n      callback = errorCatcher(callback);\n    }\n    return originalSetTimeout.call(this, callback, delay, ...args);\n  };\n  \n  window.setInterval = function(callback, delay, ...args) {\n    if (typeof callback === 'function') {\n      callback = errorCatcher(callback);\n    }\n    return originalSetInterval.call(this, callback, delay, ...args);\n  };\n  \n  try {\n${t}\n  } catch(scriptError) {\n    console.error(scriptError.message || scriptError);\n  }\n  \n  // Restore original functions and clean up\n  originalSetTimeout(() => {\n    window.setTimeout = originalSetTimeout;\n    window.setInterval = originalSetInterval;\n    delete window.pseudoConsole${n};\n    delete window.outputElement${n};\n    delete window.errorCatcher${n};\n    window.console = originalConsole;\n  }, 1000);\n})();`}get showLineNumbers(){return this.hasAttribute("show-line-numbers")||this.hasAttribute("showLineNumbers")}set showLineNumbers(t){this.removeAttribute("showLineNumbers"),t?this.setAttribute("show-line-numbers",""):this.removeAttribute("show-line-numbers")}get markLine(){return this.getAttribute("mark-line")||this.getAttribute("markLine")||this.getAttribute("mark-javascript-line")||this.getAttribute("markJavaScriptLine")}set markLine(t){this.removeAttribute("markLine"),this.setAttribute("mark-line",t)}}function i(){return"i"+(Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36))}s.attributes={showLineNumbers:"show-line-numbers",buttonBarVisibility:"button-bar-visibility",autorun:"autorun",markLine:"mark-line",markJavascriptLine:"mark-javascript-line",markHtmlLine:"mark-html-line",compactWidth:"compact-width"};const l="  ";function c(t,n,e={}){var o,r,a;if(null!==(o=e.quote)&&void 0!==o||(e.quote='"'),null!==(r=e.ancestors)&&void 0!==r||(e.ancestors=[]),null!==(a=e.maxCompactWidth)&&void 0!==a||(e.maxCompactWidth=80),"boolean"==typeof n)return{text:`<span class="boolean">${d(String(n))}</span>`,charCount:String(n).length,itemCount:1,lineCount:1};if("number"==typeof n)return{text:`<span class="number">${d(String(n))}</span>`,charCount:String(n).length,itemCount:1,lineCount:1};if("string"==typeof n)return 0===e.quote.length?{text:d(n),charCount:String(n).length,itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length}:{text:`<span class="string">${d(e.quote+n+e.quote)}</span>`,charCount:n.length+2*e.quote.length,itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length};if("function"==typeof n){let t="";return t=d("toString"in n?n.toString():String(n)),{text:`<span class="function">ƒ  ${t}</span>`,charCount:t.length+3,itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length}}if(null==n)return{text:`<span class="null">${d(String(n))}</span>`,charCount:String(n).length,itemCount:1,lineCount:1};if(t>20)return{text:'<span class="sep">(...)</span>',charCount:5,itemCount:1,lineCount:1};if(Array.isArray(n)){if(e.ancestors.includes(n))return{text:'<span class="sep">[...]</span>',charCount:5,itemCount:1,lineCount:1};const o=[];for(let r=0;r<n.length;r++)Object.keys(n).includes(Number(r).toString())?o.push(c(t+1,n[r],{ancestors:[...e.ancestors,n],maxCompactWidth:e.maxCompactWidth})):o.push({text:'<span class="empty">empty</span>',charCount:5,itemCount:1,lineCount:1});const r=o.reduce(((t,n)=>t+n.itemCount),0),a=o.reduce(((t,n)=>Math.max(t,n.lineCount)),0),s=o.reduce(((t,n)=>t+n.charCount+2),0);return s>e.maxCompactWidth||a>1?{text:"<span class='sep'>[</span>\n"+l.repeat(t+1)+o.map(((t,n)=>'<span class="index">'+n+"</span>"+t.text)).join("<span class='sep'>, </span>\n"+l.repeat(t+1))+"\n"+l.repeat(t)+"<span class='sep'>]</span>",charCount:o.reduce(((t,n)=>t+n.charCount),0)+2*(r-1),itemCount:r,lineCount:2+o.reduce(((t,n)=>t+n.lineCount),0)}:{text:"<span class='sep'>[</span>"+o.map((t=>t.text)).join("<span class='sep'>, </span>")+"<span class='sep'>]</span>",charCount:s,itemCount:Math.max(1,r),lineCount:1}}if(n instanceof Element){if(e.ancestors.includes(n))return{text:'<span class="object">Element...</span>',charCount:10,itemCount:1,lineCount:1};let t=`<${n.localName}`,o=1;if(Array.from(n.attributes).forEach((e=>{t+=" "+e.localName;const o=n.getAttribute(e.localName);o.length>0&&(t+='="'+o+'"')})),t+=">",n.innerHTML){let e=n.innerHTML.split("\n");e.length>4&&(e=[...e.slice(0,5),"(...)\n"]),t+=e.join("\n"),o+=e.length}return t+=`</${n.localName}>`,{text:`<span class="object">${d(t)}</span>`,charCount:t.length,itemCount:1,lineCount:o}}if("object"==typeof n){if(e.ancestors.includes(n))return{text:'<span class="sep">{...}</span>',charCount:5,itemCount:1,lineCount:1};if(n instanceof Map){const o=Object.fromEntries(n),r=c(t,o,{ancestors:[...e.ancestors,n],maxCompactWidth:e.maxCompactWidth});return{...r,text:"<span class=object>Map</span>"+r.text}}if(n instanceof Set){const o=Array.from(n),r=c(t,o,{ancestors:[...e.ancestors,n],maxCompactWidth:e.maxCompactWidth});return{...r,text:"<span class=object>Set</span>"+r.text}}if("toString"in n){const t=n.toString();if("[object Object]"!==t)return{text:d(t),charCount:t.length,itemCount:1,lineCount:1}}let o=Object.keys(n);if(Object.getOwnPropertyNames(n).forEach((t=>{o.includes(t)||o.push(t)})),Object.getPrototypeOf(n)!==Object.prototype&&(o=o.filter((t=>!t.startsWith("_")))),0===o.length&&"function"==typeof o.toString){const t=n.toString();return"[object Object]"===t?{text:'<span class="sep">{}</span>',charCount:2,itemCount:1,lineCount:1}:{text:t,charCount:t.length,itemCount:1,lineCount:t.split(/\r\n|\r|\n/).length}}const r=o.sort().map((o=>{if("object"==typeof n[o]&&null!==n[o]){let r=c(t+1,n[o],{ancestors:[...e.ancestors,n],maxCompactWidth:e.maxCompactWidth});return r.itemCount>500&&(r={text:"<span class='sep'>(...)</span>",charCount:5,itemCount:1,lineCount:1}),{text:`<span class="property">${o}</span><span class='sep'>: </span>${r.text}`,charCount:r.charCount+o.length+2,itemCount:r.itemCount,lineCount:r.lineCount}}if("function"==typeof n[o])return{text:`<span class="property">${o}</span></span><span class='sep'>: </span><span class='function'>ƒ (...)</span>`,charCount:o.length+2+3,itemCount:1,lineCount:1};const r=c(t+1,n[o],{ancestors:[...e.ancestors,n],maxCompactWidth:e.maxCompactWidth});return{text:`<span class="property">${o}</span><span class='sep'>: </span>${r.text}`,charCount:r.charCount+o.length+2,itemCount:r.itemCount,lineCount:r.lineCount}})),a=r.reduce(((t,n)=>t+n.itemCount),0),s=r.reduce(((t,n)=>t+n.lineCount),0),i=r.reduce(((t,n)=>t+n.charCount),0)+2*(a-1);return 1===s&&i<=e.maxCompactWidth?{text:"<span class='sep'>{</span>"+r.map((t=>t.text)).join("</span><span class='sep'>, </span>")+"<span class='sep'>}</span>",charCount:i,itemCount:a,lineCount:s}:{text:"<span class='sep'>{</span>\n"+l.repeat(t+1)+r.map((t=>t.text)).join("</span><span class='sep'>,</span>\n"+l.repeat(t+1))+"\n"+l.repeat(t)+"<span class='sep'>}</span>",charCount:r.reduce(((t,n)=>t+n.charCount+2),0)+2*(a-1),itemCount:a,lineCount:s+2}}return{text:String(n),charCount:String(n).length,itemCount:1,lineCount:1}}function u(t,n={maxWidth:80}){const e=t[0],o=t.slice(1);return"string"==typeof e&&e.includes("%")&&o.length?e.replace(/(%[oscdif]|%(\d*)\.(\d*)[dif])/g,((t,e,r="",a)=>{if("%o"===e)return c(0,o.shift(),{maxCompactWidth:n.maxWidth}).text;if("%s"===e)return o.shift();if("%c"===e)return`</span><span style="${o.shift()}">`;const s=o.shift();let i=null;return"f"===e.substr(-1)&&"number"==typeof s?i=isNaN(parseInt(a,10))?s:s.toFixed(a):"string"==typeof s&&(i=parseInt(s,10)),""===r?i:c(0,i,{maxCompactWidth:n.maxWidth}).text.padStart(r," ")})):t.map((t=>c(0,t,{quote:"",maxCompactWidth:n.maxWidth}).text)).join(" ")}function d(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(t){return(t=(t=t.trim()).replace(/<!--.*-->\n?/g,"")).split("\n").map((t=>"//"===t.trim()?"":t)).join("\n")}function h(t,n,e){var o;if(void 0===e)return;const r=null===(o=t.querySelector(`textarea[data-language="${n}"] + .CodeMirror`))||void 0===o?void 0:o.CodeMirror;if(r){for(let t=r.doc.firstLine();t<=r.doc.lastLine();t++)r.doc.removeLineClass(t,"wrap","marked");if("string"==typeof e)for(let t of e.split(","))if(t=t.trim(),""!==t&&"none"!==t){if(/\d+-\d+/.test(t)){let[,t,n]=e.match(/(\d+)-(\d+)/);for(let e=parseInt(t);e<=Math.max(parseInt(t),parseInt(n));e++)r.doc.addLineClass(e-1,"wrap","marked");return}r.doc.addLineClass(parseInt(e)-1,"wrap","marked")}}}null!==(t=customElements.get("code-playground"))&&void 0!==t||customElements.define("code-playground",s);export{s as CodePlaygroundElement};
