/*  v1.11.3  */
var n;const e="#cc6666",t="#f0c674",o=e,r=t,s=document.createElement("template");s.innerHTML=`\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">\n<style>\n\n:host {\n    display: block;\n    font-family: var(--ui-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI",\n      Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n      "Helvetica Neue", "Source Sans Pro"), sans-serif;\n    line-height: 1.5;\n    margin-top: 8px;\n    --_base-00: var(--base-00, #35434e);\n    --_base-01: var(--base-01, #282a2e);\n    --_base-02: var(--base-02, #373b41);\n    --_base-03: var(--base-03, #969896);\n    --_base-04: var(--base-04, #b4b7b4);\n    --_base-05: var(--base-05, #c5c8c6);\n    --_base-06: var(--base-06, #e0e0e0);\n    --_base-07: var(--base-07, #ffffff);\n    --_base-08: var(--base-08, #8abeb7);\n    --_base-09: var(--base-09, #ec9c65);\n    --_base-0a: var(--base-0a, ${t});\n    --_base-0b: var(--base-0b, #b5bd68);\n    --_base-0c: var(--base-0c, ${e});\n    --_base-0d: var(--base-0d, #81a2be);\n    --_base-0e: var(--base-0e, #b294bb);\n    --_base-0f: var(--base-0f, #a3685a);\n    --_semantic-red: var(--semantic-red, ${o});\n    --_semantic-orange: var(--semantic-orange, ${r});\n\n  }\n  :host([hidden]) {\n    display: none;\n  }\n\n  slot { display: none; }\n\n  .original-content {\n    display: none;\n  }\n\n  .editors.hidden {\n    display: none;\n  }\n\n  .__code-playground-container {\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    height: 100%;\n    min-width: 300px;\n    border-radius: 8px;\n    width: 100%;\n    margin: 0;\n    background: transparent\n  }\n\n  .__code-playground-editor {\n    border: 1px solid #ccc;\n    background: var(--base-00);\n    color: var(--base-05);\n  }\n\n  .__code-playground-container textarea {\n    display: block;\n\n    color: var(--text-color);\n    background: var(--ui-background);\n\n    min-height: 4em;\n    height: 100%;\n    width: 100%;\n\n    resize: vertical;\n\n    border: var(--ui-border, 1px solid rgba(0,0,0,.25));\n    outline: none;\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 16px;\n    line-height: 1.2;\n  }\n\n\n  .__code-playground-container label {\n    display: block;\n    font-weight: 700;\n    padding-top: 4px;\n    padding-bottom: 4px;\n}\n\n\n  :host div.__code-playground-button-bar:not(.visible) {\n    display: none !important;\n  }\n\n  button svg {\n    height: 1em;\n    width: 1em;\n    margin-right: .55em;\n    vertical-align: -.12em;\n  }\n  \n\n  #run-button:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-result {\n    width: 100%;\n    margin: .5em 0 0 0;\n  }\n\n\n  .__code-playground-output {\n    display:  flex;\n    flex-flow: column;\n  }\n\n  .__code-playground-output:not(.visible) {\n    display: none !important;\n  }\n\n  .__code-playground-output textarea {\n    width: calc(100% - 16px);\n  }\n\n  .__code-playground-output button {\n    appearance: none;\n    font-family: var(--ui-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI",      Roboto, Oxygen-Sans, Ubuntu, Cantarell,      "Helvetica Neue", "Source Sans Pro"), sans-serif;\n    font-size: 1rem;\n    font-weight: 600;\n    border-radius: 8px;\n    border: 1px solid var(--base-05, #c5c8c6);\n    color: var(--base-00, #35434e);\n    background: var(--base-07, #ffffff);\n    padding: 4px 16px;\n    min-height: 42px;\n    min-width: 42px;\n    filter: drop-shadow(4px 4px 8px #00000020);\n  }\n\n  .__code-playground-output button:hover {\n    background: var(--base-06, #e0e0e0);\n    background-opacity: .4;\n\n  }\n\n  .__code-playground-output button:active {\n    background: var(--base-07, #ffffff);\n    color: var(--base-00, #35434e);\n    filter: drop-shadow(0px 0px 4px #00000040);\n  }\n\n\n  .__code-playground-output button:disabled, \n  .__code-playground-output button:disabled:hover {\n    background: var(--base-07, #ffffff);\n    color: var(--base-04, #b4b7b4);\n    filter: none;\n  }\n\n\n\n\n  .__code-playground-output .row {\n    display: flex;\n    flex-flow: row;\n    justify-content: space-between;\n  }\n\n  .__code-playground-output .row > * {\n    flex: .25;\n  }\n\n  .__code-playground-output .row > *:not(:first-child) {\n    margin-left: 8px;\n  }\n\n  .__code-playground-output .row > *:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .__code-playground-output .row > *:first-child {\n    margin-left: 0;\n  }\n\n  .__code-playground-output .row > *:last-child {\n    margin-right: 0;\n  }\n\n  .__code-playground-output .stack {\n    display: flex;\n    flex-flow: column;\n    margin-top: 8px;\n    margin-bottom: 8px;\n  }\n\n\n  .__code-playground-console {\n    display: block;\n    max-height: 50vh;\n    margin: .5em 0 0 0;\n    overflow: auto;\n\n    padding: 8px 8px 8px 1em;\n    border-radius: 8px;\n\n    color: var(--_base-05);\n    background: var(--_base-00);\n    border: var(--ui-border, 1px solid rgba(0, 0, 0, .2));\n\n    font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n    font-size: 1em;\n\n    white-space: pre-wrap;\n  }\n\n  .__code-playground-console:not(.visible) {\n    display: none !important;\n  }\n\n\n  .__code-playground-console::selection, \n  .__code-playground-console *::selection {\n    background: var(--selection-background, var(--_base-01));\n    color: var(--selection-color, inherit);\n  }\n\n\n  .__code-playground-console .sep {\n    color: var(--_base-05);\n  }\n  .__code-playground-console .index {\n    color: var(--_base-05);\n    opacity: .3;\n    float: left;\n    width: 0;\n    font-style: italic;\n  }\n  .__code-playground-console .boolean {\n    color: var(--_base-0e);\n    font-weight: bold;\n  }\n  .__code-playground-console .empty {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .null {\n    color: var(--_base-0e);\n    font-style: italic;\n  }\n  .__code-playground-console .string {\n    color: var(--_base-0a);\n    font-weight: bold;\n  }\n  .__code-playground-console .function {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .number {\n    color: var(--_base-0e);\n  }\n  .__code-playground-console .property {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .object {\n    color: var(--_base-0b);\n  }\n  .__code-playground-console .error {\n    display: block;\n    width: calc(100% + 16px);\n    padding-right: 4px;\n    padding-top: 8px;\n    padding-bottom:8px;\n    padding-left: 6px;\n    margin: -8px -20px;\n    background: var(--red-800);\n    color: white;\n    border-left: 8px solid var(--_semantic-red);\n  }\n  .__code-playground-console .warning {\n    color: var(--_semantic-orange);\n  }\n  .__code-playground-console .log {\n    color: var(--blue--200);\n  }\n  .__code-playground-console .group {\n    font-weight: bold;\n  }\n  \n\n\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --selection-background: var(--primary-color);\n    --selection-color: #fff;\n  }\n}\n  \n\n/* Tomorrow Comment */\n.hljs-comment {\n    color: var(--_base-04);\n}\n\n/* Function (JS) and tag (HTML) names */\n.hljs-tag, .hljs-title {\n    color: var(--_base-0a);\n}\n  \n/* Tomorrow Red */\n.hljs-variable,\n.hljs-attribute,\n.hljs-tag,\n.hljs-regexp,\n.ruby .hljs-constant,\n.xml .hljs-tag .hljs-title,\n.xml .hljs-pi,\n.xml .hljs-doctype,\n.html .hljs-doctype,\n.css .hljs-id,\n.css .hljs-class,\n.css .hljs-pseudo {\n  color: var(--_base-0c);\n}\n\n/* Tomorrow Orange */\n.hljs-number,\n.hljs-preprocessor,\n.hljs-built_in,\n.hljs-literal,\n.hljs-params,\n.hljs-constant {\n  color: var(--_base-09);\n  font-weight: normal;\n}\n\n/* Tomorrow Yellow */\n.ruby .hljs-class .hljs-title,\n.css .hljs-rules .hljs-attribute {\n    color: var(--_base-0a);\n}\n\n/* Tomorrow Green */\n.hljs-string,\n.hljs-value,\n.hljs-inheritance,\n.hljs-header,\n.ruby .hljs-symbol,\n.xml .hljs-cdata {\n  color: var(--_base-0b);\n}\n\n/* Tomorrow Aqua */\n.css .hljs-hexcolor {\n  color: var(--_base-08);\n}\n\n/* Tomorrow Blue */\n.hljs-function,\n.python .hljs-decorator,\n.python .hljs-title,\n.ruby .hljs-function .hljs-title,\n.ruby .hljs-title .hljs-keyword,\n.perl .hljs-sub,\n.javascript .hljs-title,\n.coffeescript .hljs-title {\n  color: var(--_base-0d);\n  font-weight: bold;\n}\n\n/* Tomorrow Purple */\n.hljs-keyword,\n.javascript .hljs-function {\n  color: var(--_base-0e);\n  font-weight: bold;\n}\n\n.hljs {\n  display: block;\n  background: var(--_base-00);\n  color: var(--_base-05);\n  padding: 0.5em;\n}\n\n.coffeescript .javascript,\n.javascript .xml,\n.tex .hljs-formula,\n.xml .javascript,\n.xml .vbscript,\n.xml .css,\n.xml .hljs-cdata {\n    opacity: 0.5;\n}\n\n// Rouge typographic adjustments.\n// See https://github.com/rouge-ruby/rouge/wiki/List-of-tokens\n\n.highlight .c1,     // Single line comment\n.highlight .cm      // Multiline comment\n  {\n    font-style: italic;\n}\n\n.highlight .k,       // keywords\n.highlight .kc,       // keywords constant\n.highlight .kd,       // keywords declaration\n.highlight .kn,       // keywords namespace\n.highlight .kp,       // keywords pseudi\n.highlight .kr,       // keywords reserved\n.highlight .kt,       // keywords type\n.highlight .kv       // keywords variable\n{\n  font-weight: bold;\n}\n\n.CodeMirror {\n  font-family: var(--monospace-font-family), 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Fira Code', monospace;\n  color: inherit;\n}\n.cm-s-tomorrow-night.CodeMirror { background: transparent; }\n.cm-s-tomorrow-night div.CodeMirror-selected { background: var(--selection-background, var(--_base-01)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::selection, .cm-s-tomorrow-night .CodeMirror-line > span::selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night .CodeMirror-line > span > span::-moz-selection { background: var(--selection-background, rgba(45, 45, 45, 0.99)); color: var(--selection-color, inherit);}\n\n.cm-s-tomorrow-night .CodeMirror-gutters { background: transparent; border-right: 0px; }\n.cm-s-tomorrow-night .CodeMirror-guttermarker { color: var(--_base-0c); }\n.cm-s-tomorrow-night .CodeMirror-guttermarker-subtle { color: var(--_base-03); }\n.cm-s-tomorrow-night .CodeMirror-linenumber { color: var(--_base-04); opacity: .7; }\n.cm-s-tomorrow-night .CodeMirror-cursor { border-left: 1px solid var(--_base-0d); }\n\n.cm-s-tomorrow-night span.cm-comment { color: var(--_base-04); }\n.cm-s-tomorrow-night span.cm-atom { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-number { color: var(--_base-0e); }\n\n.cm-s-tomorrow-night span.cm-property, .cm-s-tomorrow-night span.cm-attribute { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-keyword { color: var(--_base-0c); }\n.cm-s-tomorrow-night span.cm-string { color: var(--_base-0b); }\n\n.cm-s-tomorrow-night span.cm-variable { color: var(--_base-0b); }\n.cm-s-tomorrow-night span.cm-variable-2 { color: var(--_base-0d); }\n.cm-s-tomorrow-night span.cm-def { color: var(--_base-09); }\n.cm-s-tomorrow-night span.cm-bracket { color: var(--_base-05); }\n.cm-s-tomorrow-night span.cm-tag { color: var(--_base-0a); }\n.cm-s-tomorrow-night span.cm-link { color: var(--_base-0e); }\n.cm-s-tomorrow-night span.cm-error { background: var(--_base-0c); color: var(--_base-03); }\n\n.cm-s-tomorrow-night .CodeMirror-activeline-background { background: var(--_base-02); }\n.cm-s-tomorrow-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }    \n\n\n.CodeMirror .marked div.CodeMirror-linenumber {\n  opacity: 1;\n  color: var(--base-07, #fff);\n}\n\n.CodeMirror .marked pre.CodeMirror-line::before {\n  content: "";\n  position: absolute;\n  top: 0; \n  left: 0;\n  width: 100%; \n  height: 100%;  \n  opacity: .5; \n  z-index: -1;\n  background: var(--editor-marked-line, var(--cyan-700, #0c6abe)) !important;\n}\n</style>\n<slot name="style"></slot>\n`;class a extends HTMLElement{static get observedAttributes(){return Object.values(a.attributes)}attributeChangedCallback(n,e,t){if(e===t)return;const o=a.attributes;n===o.markLine||n===o.markJavascriptLine?h(this.shadowRoot,"javascript",t):n===o.markHtmlLine?h(this.shadowRoot,"html",t):n===o.showLineNumbers&&this.shadowRoot.querySelectorAll("textarea + .CodeMirror").forEach((n=>{var e;return null===(e=null==n?void 0:n.CodeMirror)||void 0===e?void 0:e.setLineNumbers(this.showLineNumbers)}))}constructor(){var n;super(),this.dirty=!1,this.consoleContent="",this.edited=!1,this.resetting=!1,this.timers={},this.moduleMap=null!==(n=window.moduleMap)&&void 0!==n?n:{},this.attachShadow({mode:"open",delegatesFocus:!0})}get isContentEditable(){return!0}disconnectedCallback(){var n;null===(n=this.resizeObserver)||void 0===n||n.disconnect(),this.resizeObserver=null,this.shadowRoot.innerHTML="",this.dirty=!0,this.runTimer&&clearTimeout(this.runTimer),this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.edited=!1,this.resetting=!1}connectedCallback(){const n=this.shadowRoot;this.id||(this.id=i()),n.appendChild(s.content.cloneNode(!0));const e=n.querySelector("slot[name=style]");if(e){const t=e.assignedNodes().map((n=>n.innerHTML)).join("").trim();if(t){const e=document.createElement("style");e.innerHTML=t,n.appendChild(e)}}const t=document.createElement("div");this.containerId=i(),t.id=this.containerId,t.innerHTML='<div inert class="original-content" translate="no"><slot name="html"></slot><slot name="javascript"></slot></div>\n\n  <div class="__code-playground-container" translate="no">\n  \n    <div class="editors hidden" part="editors"></div>\n\n    <div class="__code-playground-button-bar" part="button-bar">\n      <button id="reset-button" part="button" disabled><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="history" class="svg-inline--fa fa-history fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 255.532c.252 136.64-111.182 248.372-247.822 248.468-64.014.045-122.373-24.163-166.394-63.942-5.097-4.606-5.3-12.543-.443-17.4l16.96-16.96c4.529-4.529 11.776-4.659 16.555-.395C158.208 436.843 204.848 456 256 456c110.549 0 200-89.468 200-200 0-110.549-89.468-200-200-200-55.52 0-105.708 22.574-141.923 59.043l49.091 48.413c7.641 7.535 2.305 20.544-8.426 20.544H26.412c-6.627 0-12-5.373-12-12V45.443c0-10.651 12.843-16.023 20.426-8.544l45.097 44.474C124.866 36.067 187.15 8 256 8c136.811 0 247.747 110.781 248 247.532zm-167.058 90.173l14.116-19.409c3.898-5.36 2.713-12.865-2.647-16.763L280 259.778V116c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v168.222l88.179 64.13c5.36 3.897 12.865 2.712 16.763-2.647z"></path></svg>Reset</button>\n\n      <button id="run-button" part="button"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="play" class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6zM48 453.5v-395c0-4.6 5.1-7.5 9.1-5.2l334.2 197.5c3.9 2.3 3.9 8 0 10.3L57.1 458.7c-4 2.3-9.1-.6-9.1-5.2z"></path></svg>Run</button>\n    </div>\n\n    <div class="__code-playground-result" translate="no">\n      <div class="__code-playground-output" part="output" translate="no"></div>\n    </div>\n\n  </div>',n.appendChild(t),n.getElementById("run-button").addEventListener("click",(()=>this.run())),n.getElementById("reset-button").addEventListener("click",(()=>this.reset())),n.addEventListener("slotchange",(()=>{this.dirty=!0,requestAnimationFrame((()=>this.update()))})),this.resizeObserver=new ResizeObserver((()=>{requestAnimationFrame((()=>{n.querySelectorAll("textarea + .CodeMirror").forEach((n=>{var e;return null===(e=null==n?void 0:n.CodeMirror)||void 0===e?void 0:e.refresh()}))}))})),this.updateButtonBar()}get outputStylesheets(){return this.hasAttribute("outputStylesheets")?this.getAttribute("outputStylesheets").split(" "):[]}set outputStylesheets(n){this.setAttribute("outputStylesheets",n.join(" "))}get autorun(){if(!this.hasAttribute("autorun"))return 1e3;const n=this.getAttribute("autorun");return"never"===n?"never":isFinite(parseFloat(n))?parseFloat(n):1e3}set autorun(n){this.setAttribute("autorun",n.toString()),this.updateButtonBar()}get buttonBarVisibility(){var n,e;const t=null!==(e=null!==(n=this.getAttribute("button-bar-visibility"))&&void 0!==n?n:this.getAttribute("buttonBarVisibility"))&&void 0!==e?e:"auto";return"auto"===t?this.edited||"never"===this.autorun?"visible":"hidden":t}set buttonBarVisibility(n){this.setAttribute("buttonBarVisibility",n)}get buttonBarVisible(){var n,e;return null!==(e=null===(n=this.shadowRoot.querySelector(".__code-playground-button-bar"))||void 0===n?void 0:n.classList.contains("visible"))&&void 0!==e&&e}updateButtonBar(){const n=this.buttonBarVisibility,e=this.shadowRoot.querySelector(".__code-playground-button-bar");if(!e)return;const t=this.shadowRoot.getElementById("reset-button");t&&(t.disabled=!this.edited);const o=this.shadowRoot.getElementById("run-button");o&&(o.disabled=!1),null==o||o.classList.toggle("visible","never"===this.autorun),null==e||e.classList.toggle("visible","visible"===n)}update(){var n;if(!this.dirty)return;this.dirty=!1,this.updateButtonBar();const e=this.shadowRoot,t=e.querySelector(".editors");if(!t)return;const o=[...e.querySelectorAll(".original-content slot")];let r="";for(const e of o){let t=e.assignedNodes().map((n=>n.innerHTML)).join("");if(t){t=t.replace(/<!-- -->/g,"");const o=e.name.toLowerCase();r+=`<label part="label">${null!==(n={html:"HTML",javascript:"JavaScript",css:"CSS",json:"JSON"}[o])&&void 0!==n?n:o}</label>\n        <div part="editor" class="__code-playground-editor ${o}">\n            <textarea spellcheck="false" autocorrect="off"  autocapitalize="off" data-language="${o}">${t}</textarea> \n        </div>`}}t.innerHTML=r,"CodeMirror"in window&&void 0!==window.CodeMirror&&(this.resizeObserver.disconnect(),e.querySelectorAll(".editors textarea").forEach((n=>{var t;this.resizeObserver.observe(n.parentElement);const o=null!==(t={ts:"typescript",typescript:"typescript",js:"javascript",javascript:"javascript",json:{name:"javascript",json:!0},css:"css",html:{name:"xml",htmlMode:!0}}[n.dataset.language])&&void 0!==t?t:"javascript",r=CodeMirror.fromTextArea(n,{lineNumbers:this.showLineNumbers,lineWrapping:!0,mode:o,theme:"tomorrow-night"});var s;r.setValue(p(n.value)),r.setSize("100%","100%"),"javascript"===n.dataset.language&&h(e,"javascript",this.getAttribute("markLine")),h(e,n.dataset.language,this.getAttribute(`mark${s=n.dataset.language,s.charAt(0).toUpperCase()+s.slice(1)}Line`)),r.on("change",(()=>this.editorContentChanged()))})),t.classList.remove("hidden")),"never"!==this.autorun&&this.run(),"CodeMirror"in window&&void 0!==window.CodeMirror&&setTimeout((()=>e.querySelectorAll("textarea + .CodeMirror").forEach((n=>{var e;return null===(e=null==n?void 0:n.CodeMirror)||void 0===e?void 0:e.refresh()}))),128)}async run(){var n,e,t,o,r,s;const a=this.shadowRoot,i=a.querySelector(".__code-playground-result");if(!i)return;i.querySelectorAll(".__code-playground-result > script").forEach((n=>i.removeChild(n))),this.pseudoConsole.clear();let l="";const c=a.querySelector('textarea[data-language="html"] + .CodeMirror');l=c?null===(n=c.CodeMirror)||void 0===n?void 0:n.getValue():null!==(t=null===(e=a.querySelector('textarea[data-language="html"]'))||void 0===e?void 0:e.value)&&void 0!==t?t:"";const u=l.match(/<script.*>.*?<\/script>/g);null==u||u.forEach((n=>{const e=n.match(/<script([^>]*?)>(.*)<\/script>/),t=new RegExp("[\\s\\r\\t\\n]*([a-z0-9\\-_]+)[\\s\\r\\t\\n]*=[\\s\\r\\t\\n]*(['\"])((?:\\\\\\2|(?!\\2).)*)\\2","ig"),o={};let r;for(;r=t.exec(e[1]);)o[r[1]]=r[3];const s=document.createElement("script");Object.keys(o).forEach((n=>s[n]=o[n]));try{s.textContent=this.processLiveCodeJavascript(e[2]),i.appendChild(s)}catch(n){this.pseudoConsole.error(n.message)}}));try{this.outputStylesheets.forEach((n=>{const e=n.trim();e.length>0&&(l=`<link rel="stylesheet" href="${e}"></link>${l}`)}));const n=a.querySelector("div.__code-playground-result > div.__code-playground-output");n&&(l?n.classList.add("visible"):n.classList.remove("visible"),n.innerHTML=l)}catch(n){this.pseudoConsole.error(n.message)}const d=a.querySelector('textarea[data-language="javascript"] + .CodeMirror');let p="";p=d?null===(o=d.CodeMirror)||void 0===o?void 0:o.getValue():null!==(s=null===(r=a.querySelector('textarea[data-language="javascript"]'))||void 0===r?void 0:r.value)&&void 0!==s?s:"";for(const n of l.matchAll(/\<([a-zA-Z0-9]+\-[a-zA-Z0-9]*)[^\>]*\>/g))await customElements.whenDefined(n[1]);const h=document.createElement("script");h.type="module";try{h.textContent=this.processLiveCodeJavascript(p),i.appendChild(h)}catch(n){this.pseudoConsole.error(n.message)}}editorContentChanged(){this.resetting||(this.edited=!0,this.updateButtonBar(),"never"!==this.autorun&&(this.runTimer&&clearTimeout(this.runTimer),0===this.autorun?this.run():this.runTimer=setTimeout((()=>this.run()),this.autorun)))}reset(){this.resetting=!0,this.runTimer&&clearTimeout(this.runTimer),this.shadowRoot.querySelectorAll(".original-content slot").forEach((n=>{var e;const t=n.assignedNodes().map((n=>n.innerText)).join("");if(t){const o=this.shadowRoot.querySelector(`textarea[data-language="${n.name}"] + .CodeMirror`);if(o)null===(e=o.CodeMirror)||void 0===e||e.setValue(p(t)),"javascript"===n.name?h(this.shadowRoot,"javascript",this.markLine):h(this.shadowRoot,n.name,this.getAttribute(`mark-${n.name}-line`));else{const e=this.shadowRoot.querySelector(`textarea[data-language="${n.name}"]`);e&&(e.value=p(t))}}})),this.updateButtonBar(),this.run(),this.edited=!1,this.resetting=!1,this.updateButtonBar()}get outputElement(){return this.shadowRoot.querySelector("div.__code-playground-output")}get pseudoConsole(){const n=this.shadowRoot;let e=n.querySelector(".__code-playground-console");if(!e){const t=n.querySelector(".__code-playground-result");if(!t)return{...window.console,catch:()=>{}};e=document.createElement("pre"),e.classList.add("__code-playground-console"),e.setAttribute("part","console"),t.appendChild(e)}const t=()=>{this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),this.consoleUpdateTimer=setTimeout((()=>{e.innerHTML=this.consoleContent,this.consoleContent?(e.classList.add("visible"),e.style.display="block"):e.classList.remove("visible"),e.scrollTop=e.scrollHeight}),100)},o=(n,o)=>{var r,s;let a=null!==(s=null===(r=this.consoleContent)||void 0===r?void 0:r.split("\n"))&&void 0!==s?s:[];a.length>1e3&&(a=a.slice(a.length-1e3+1)),this.consoleUpdateTimer&&clearTimeout(this.consoleUpdateTimer),e.classList.add("visible");const i=this;var l,c;l=n=>{var t;i.consoleContent=(o?`<span class="${o}">`:"")+a.join("\n")+"&nbsp;&nbsp;".repeat(null!==(t=parseInt(e.dataset["group-level"]))&&void 0!==t?t:0)+n+(o?"</span>":""),e.innerHTML=i.consoleContent,e.scrollTop=e.scrollHeight},c=()=>t(),l(n+"\n"),c()};return{...window.console,assert:(n,...e)=>{if(!n){let n=u(e);n.length>0&&(n=":\n   "+n),o("Assertion failed"+n,"error")}},catch:n=>{const e=n.stack.split("at ")[1].match(/:([0-9]+):([0-9]+)/)||[];o('<span class="error">'+(e[1]?"Line "+parseInt(e[1])+"\n   ":"")+n.message+"</span>")},clear:()=>{this.consoleContent="",t()},debug:(...n)=>o(u(n)),dir:(...n)=>o(u(n)),error:(...n)=>o(u(n),"error"),group:(...n)=>{var t;arguments.length>0&&o(u(n),"group"),e.dataset["group-level"]=Number((null!==(t=parseInt(e.dataset["group-level"]))&&void 0!==t?t:0)+1).toString()},groupCollapsed:(...n)=>{var t;arguments.length>0&&o(u(n),"group"),e.dataset["group-level"]=Number((null!==(t=parseInt(e.dataset["group-level"]))&&void 0!==t?t:0)+1).toString()},groupEnd:()=>{var n;e.dataset["group-level"]=Number((null!==(n=parseInt(e.dataset["group-level"]))&&void 0!==n?n:0)-1).toString()},info:(...n)=>o(u(n),"info"),log:(...n)=>{const e=u(n);o(e,"log")},warn:(...n)=>o(u(n),"warning"),time:n=>{this.timers[n]=Date.now()},timeEnd:(n,...e)=>{if(!this.timers[n])return o(u(e),"log");const t=Date.now()-this.timers[n];return o(t>1e3?`${u(e)}\n${n}: ${Number(t/1e3).toFixed(2)}s`:`${u(e)}\n${n}: ${t}ms`,"log")}}}processLiveCodeJavascript(n){if(!n)return"";const e=Date.now().toString(26).slice(-2)+Math.floor(1e5*Math.random()).toString(26);n=(n=(n=n.replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelector\s*\()/g,"$1output"+e+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*querySelectorAll\s*\))/g,"$1output"+e+"$2")).replace(/([^a-zA-Z0-9_-]?)document(\s*\.\s*)getElementById\s*\(/g,"$1output"+e+"$2querySelector('#'+");const t=[];n=n.replace(/([^a-zA-Z0-9_-]?import.*)('.*'|".*");/g,((n,e,o)=>(t.push([n,e,o.slice(1,o.length-1)]),`/* ${e}${o} */`)));const o=this.pseudoConsole,r=this.outputElement;return window[`pseudoConsole${e}`]=o,window[`outputElement${e}`]=r,t.map((n=>this.moduleMap[n[2]]?`${n[1]} "${this.moduleMap[n[2]]}";`:n[0])).join("")+`\n(function() {\n  const originalConsole = window.console;\n  const pseudoConsole = window.pseudoConsole${e};\n  const output${e} = window.outputElement${e};\n  \n  // Override console methods directly\n  const console = {\n    log: (...args) => pseudoConsole.log(...args),\n    warn: (...args) => pseudoConsole.warn(...args),\n    error: (...args) => pseudoConsole.error(...args),\n    info: (...args) => pseudoConsole.info(...args),\n    debug: (...args) => pseudoConsole.debug(...args),\n    dir: (...args) => pseudoConsole.dir(...args),\n    clear: () => pseudoConsole.clear(),\n    time: (label) => pseudoConsole.time(label),\n    timeEnd: (label) => pseudoConsole.timeEnd(label),\n    group: (...args) => pseudoConsole.group(...args),\n    groupEnd: () => pseudoConsole.groupEnd(),\n    assert: (condition, ...args) => pseudoConsole.assert(condition, ...args)\n  };\n  \n  // Setup error handler for this specific script\n  const originalErrorHandler = window.onerror;\n  window.onerror = function(msg, url, line, col, error) {\n    if (url === window.location.href) {\n      console.error('Uncaught Error: ' + msg);\n      return true; // Prevent default browser error handling\n    }\n    return originalErrorHandler ? originalErrorHandler.call(this, msg, url, line, col, error) : false;\n  };\n  \n  try {\n${n}\n  } catch(scriptError) {\n    console.error(scriptError.message || scriptError);\n  }\n  \n  // Restore error handler after a delay to catch async errors\n  setTimeout(() => {\n    window.onerror = originalErrorHandler;\n  }, 1000);\n  \n  delete window.pseudoConsole${e};\n  delete window.outputElement${e};\n})();`}get showLineNumbers(){return this.hasAttribute("show-line-numbers")||this.hasAttribute("showLineNumbers")}set showLineNumbers(n){this.removeAttribute("showLineNumbers"),n?this.setAttribute("show-line-numbers",""):this.removeAttribute("show-line-numbers")}get markLine(){return this.getAttribute("mark-line")||this.getAttribute("markLine")||this.getAttribute("mark-javascript-line")||this.getAttribute("markJavaScriptLine")}set markLine(n){this.removeAttribute("markLine"),this.setAttribute("mark-line",n)}}function i(){return"i"+(Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36))}a.attributes={showLineNumbers:"show-line-numbers",buttonBarVisibility:"button-bar-visibility",autorun:"autorun",markLine:"mark-line",markJavascriptLine:"mark-javascript-line",markHtmlLine:"mark-html-line"};const l="  ";function c(n,e,t={}){var o,r;if(null!==(o=t.quote)&&void 0!==o||(t.quote='"'),null!==(r=t.ancestors)&&void 0!==r||(t.ancestors=[]),"boolean"==typeof e)return{text:`<span class="boolean">${d(String(e))}</span>`,charCount:String(e).length,itemCount:1,lineCount:1};if("number"==typeof e)return{text:`<span class="number">${d(String(e))}</span>`,charCount:String(e).length,itemCount:1,lineCount:1};if("string"==typeof e)return 0===t.quote.length?{text:d(e),charCount:String(e).length,itemCount:1,lineCount:e.split(/\r\n|\r|\n/).length}:{text:`<span class="string">${d(t.quote+e+t.quote)}</span>`,charCount:e.length+2*t.quote.length,itemCount:1,lineCount:e.split(/\r\n|\r|\n/).length};if("function"==typeof e){let n="";return n=d("toString"in e?e.toString():String(e)),{text:`<span class="function">ƒ  ${n}</span>`,charCount:n.length+3,itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length}}if(null==e)return{text:`<span class="null">${d(String(e))}</span>`,charCount:String(e).length,itemCount:1,lineCount:1};if(n>20)return{text:'<span class="sep">(...)</span>',charCount:5,itemCount:1,lineCount:1};if(Array.isArray(e)){if(t.ancestors.includes(e))return{text:'<span class="sep">[...]</span>',charCount:5,itemCount:1,lineCount:1};const o=[];for(let r=0;r<e.length;r++)Object.keys(e).includes(Number(r).toString())?o.push(c(n+1,e[r],{ancestors:[...t.ancestors,e]})):o.push({text:'<span class="empty">empty</span>',charCount:5,itemCount:1,lineCount:1});const r=o.reduce(((n,e)=>n+e.itemCount),0),s=o.reduce(((n,e)=>Math.max(n,e.lineCount)),0),a=o.reduce(((n,e)=>n+e.charCount+2),0);return a>72||s>1?{text:"<span class='sep'>[</span>\n"+l.repeat(n+1)+o.map(((n,e)=>'<span class="index">'+e+"</span>"+n.text)).join("<span class='sep'>, </span>\n"+l.repeat(n+1))+"\n"+l.repeat(n)+"<span class='sep'>]</span>",charCount:o.reduce(((n,e)=>n+e.charCount),0)+2*(r-1),itemCount:r,lineCount:2+o.reduce(((n,e)=>n+e.lineCount),0)}:{text:"<span class='sep'>[</span>"+o.map((n=>n.text)).join("<span class='sep'>, </span>")+"<span class='sep'>]</span>",charCount:a,itemCount:Math.max(1,r),lineCount:1}}if(e instanceof Element){if(t.ancestors.includes(e))return{text:'<span class="object">Element...</span>',charCount:10,itemCount:1,lineCount:1};let n=`<${e.localName}`,o=1;if(Array.from(e.attributes).forEach((t=>{n+=" "+t.localName;const o=e.getAttribute(t.localName);o.length>0&&(n+='="'+o+'"')})),n+=">",e.innerHTML){let t=e.innerHTML.split("\n");t.length>4&&(t=[...t.slice(0,5),"(...)\n"]),n+=t.join("\n"),o+=t.length}return n+=`</${e.localName}>`,{text:`<span class="object">${d(n)}</span>`,charCount:n.length,itemCount:1,lineCount:o}}if("object"==typeof e){if(t.ancestors.includes(e))return{text:'<span class="sep">{...}</span>',charCount:5,itemCount:1,lineCount:1};if(e instanceof Map){const o=Object.fromEntries(e),r=c(n,o,{ancestors:[...t.ancestors,e]});return{...r,text:"<span class=object>Map</span>"+r.text}}if(e instanceof Set){const o=Array.from(e),r=c(n,o,{ancestors:[...t.ancestors,e]});return{...r,text:"<span class=object>Set</span>"+r.text}}if("toString"in e){const n=e.toString();if("[object Object]"!==n)return{text:d(n),charCount:n.length,itemCount:1,lineCount:1}}let o=Object.keys(e);if(Object.getOwnPropertyNames(e).forEach((n=>{o.includes(n)||o.push(n)})),Object.getPrototypeOf(e)!==Object.prototype&&(o=o.filter((n=>!n.startsWith("_")))),0===o.length&&"function"==typeof o.toString){const n=e.toString();return"[object Object]"===n?{text:'<span class="sep">{}</span>',charCount:2,itemCount:1,lineCount:1}:{text:n,charCount:n.length,itemCount:1,lineCount:n.split(/\r\n|\r|\n/).length}}const r=o.sort().map((o=>{if("object"==typeof e[o]&&null!==e[o]){let r=c(n+1,e[o],{ancestors:[...t.ancestors,e]});return r.itemCount>500&&(r={text:"<span class='sep'>(...)</span>",charCount:5,itemCount:1,lineCount:1}),{text:`<span class="property">${o}</span><span class='sep'>: </span>${r.text}`,charCount:r.charCount+o.length+2,itemCount:r.itemCount,lineCount:r.lineCount}}if("function"==typeof e[o])return{text:`<span class="property">${o}</span></span><span class='sep'>: </span><span class='function'>ƒ (...)</span>`,charCount:o.length+2+3,itemCount:1,lineCount:1};const r=c(n+1,e[o],{ancestors:[...t.ancestors,e]});return{text:`<span class="property">${o}</span></span><span class='sep'>: </span>${r.text}`,charCount:r.charCount+o.length+2,itemCount:r.itemCount,lineCount:r.lineCount}})),s=r.reduce(((n,e)=>n+e.itemCount),0),a=r.reduce(((n,e)=>n+e.lineCount),0),i=r.reduce(((n,e)=>n+e.charCount+2),0);return 1===a&&i<72?{text:"<span class='sep'>{</span>"+r.map((n=>n.text)).join("</span><span class='sep'>, </span>")+"<span class='sep'>}</span>",charCount:i,itemCount:s,lineCount:a}:{text:"<span class='sep'>{</span>\n"+l.repeat(n+1)+r.map((n=>n.text)).join("</span><span class='sep'>,</span>\n"+l.repeat(n+1))+"\n"+l.repeat(n)+"<span class='sep'>}</span>",charCount:r.reduce(((n,e)=>n+e.charCount+2),0)+2*(s-1),itemCount:s,lineCount:a+2}}return{text:String(e),charCount:String(e).length,itemCount:1,lineCount:1}}function u(n){const e=n[0],t=n.slice(1);return"string"==typeof e&&e.includes("%")&&t.length?e.replace(/(%[oscdif]|%(\d*)\.(\d*)[dif])/g,((n,e,o="",r)=>{if("%o"===e)return c(0,t.shift()).text;if("%s"===e)return t.shift();if("%c"===e)return`</span><span style="${t.shift()}">`;const s=t.shift();let a=null;return"f"===e.substr(-1)&&"number"==typeof s?a=isNaN(parseInt(r,10))?s:s.toFixed(r):"string"==typeof s&&(a=parseInt(s,10)),""===o?a:c(0,a).text.padStart(o," ")})):n.map((n=>c(0,n,{quote:""}).text)).join(" ")}function d(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(n){return(n=(n=n.trim()).replace(/<!--.*-->\n?/g,"")).split("\n").map((n=>"//"===n.trim()?"":n)).join("\n")}function h(n,e,t){var o;if(void 0===t)return;const r=null===(o=n.querySelector(`textarea[data-language="${e}"] + .CodeMirror`))||void 0===o?void 0:o.CodeMirror;if(r){for(let n=r.doc.firstLine();n<=r.doc.lastLine();n++)r.doc.removeLineClass(n,"wrap","marked");if("string"==typeof t)for(let n of t.split(","))if(n=n.trim(),""!==n&&"none"!==n){if(/\d+-\d+/.test(n)){let[,n,e]=t.match(/(\d+)-(\d+)/);for(let t=parseInt(n);t<=Math.max(parseInt(n),parseInt(e));t++)r.doc.addLineClass(t-1,"wrap","marked");return}r.doc.addLineClass(parseInt(t)-1,"wrap","marked")}}}null!==(n=customElements.get("code-playground"))&&void 0!==n||customElements.define("code-playground",a);export{a as CodePlaygroundElement};
